define("fare/oc/1.0.0/edit/bootstrap",["./app","./services/services","./controllers/index","./controllers/eidtController","./controllers/controllers","./directives/index","./directives/tableDirective","./directives/directives","./tpls/tb_btnAdd.html","./tpls/tb_btnUpdate.html","./tpls/tb_btnDelete.html","./tpls/tb_row.html","underscore","./directives/commonDirective","./directives/validDirective","../lib/module","../lib/helpers/compiler","../lib/helpers/date-formatter","../lib/helpers/date-parser","../lib/helpers/debounce","../lib/helpers/dimensions","../lib/helpers/parse-options","../lib/helpers/raf","../lib/datepicker/datepicker","../lib/datepicker/datepicker.tpl.html","../lib/timepicker/timepicker","../lib/timepicker/timepicker.tpl.html","../lib/tooltip/tooltip","../lib/tooltip/tooltip.tpl.html","../lib/valid/index","../lib/valid/config/index","../lib/valid/config/ngModelDecorator","../lib/valid/jcs-auto-validate","../lib/valid/config/ngSubmitDecorator","../lib/valid/directives/index","../lib/valid/directives/autoValidateFormOptions","../lib/valid/directives/formReset","../lib/valid/directives/registerCustomFormControl","../lib/valid/providers/validator","../lib/valid/services/index","../lib/valid/services/bootstrap3ElementModifier_modify","../lib/valid/services/debounce","../lib/valid/services/defaultErrorMessageResolver","../lib/valid/services/foundation5ElementModifier","../lib/valid/services/validationManager"],function(a,b,c){a("./app"),c.exports={init:function(){angular.element(document).ready(function(){angular.bootstrap(document,["app"])})}}}),define("fare/oc/1.0.0/edit/app",["fare/oc/1.0.0/edit/services/services","fare/oc/1.0.0/edit/controllers/index","fare/oc/1.0.0/edit/controllers/eidtController","fare/oc/1.0.0/edit/controllers/controllers","fare/oc/1.0.0/edit/directives/index","fare/oc/1.0.0/edit/directives/tableDirective","fare/oc/1.0.0/edit/directives/directives","underscore","fare/oc/1.0.0/edit/directives/commonDirective","fare/oc/1.0.0/edit/directives/validDirective","fare/oc/1.0.0/lib/module","fare/oc/1.0.0/lib/helpers/compiler","fare/oc/1.0.0/lib/helpers/date-formatter","fare/oc/1.0.0/lib/helpers/date-parser","fare/oc/1.0.0/lib/helpers/debounce","fare/oc/1.0.0/lib/helpers/dimensions","fare/oc/1.0.0/lib/helpers/parse-options","fare/oc/1.0.0/lib/helpers/raf","fare/oc/1.0.0/lib/datepicker/datepicker","fare/oc/1.0.0/lib/timepicker/timepicker","fare/oc/1.0.0/lib/tooltip/tooltip","fare/oc/1.0.0/lib/valid/index","fare/oc/1.0.0/lib/valid/config/index","fare/oc/1.0.0/lib/valid/config/ngModelDecorator","fare/oc/1.0.0/lib/valid/jcs-auto-validate","fare/oc/1.0.0/lib/valid/config/ngSubmitDecorator","fare/oc/1.0.0/lib/valid/directives/index","fare/oc/1.0.0/lib/valid/directives/autoValidateFormOptions","fare/oc/1.0.0/lib/valid/directives/formReset","fare/oc/1.0.0/lib/valid/directives/registerCustomFormControl","fare/oc/1.0.0/lib/valid/providers/validator","fare/oc/1.0.0/lib/valid/services/index","fare/oc/1.0.0/lib/valid/services/bootstrap3ElementModifier_modify","fare/oc/1.0.0/lib/valid/services/debounce","fare/oc/1.0.0/lib/valid/services/defaultErrorMessageResolver","fare/oc/1.0.0/lib/valid/services/foundation5ElementModifier","fare/oc/1.0.0/lib/valid/services/validationManager"],function(a){a("fare/oc/1.0.0/edit/services/services"),a("fare/oc/1.0.0/edit/controllers/index"),a("fare/oc/1.0.0/edit/directives/index"),a("fare/oc/1.0.0/lib/module");var b=angular.module("app",["app.factory","app.controllers","app.directives","mgcrea.ngStrap"]).run(["bootstrap3ElementModifier",function(a){a.enableValidationStateIcons(!0)}]);b.constant("NEW_ADD_STR","add"),b.constant("UPDATE_STR","update"),b.constant("DEFAULT_SERVICETYPE","F")}),define("fare/oc/1.0.0/edit/services/services",[],function(){var a=angular.module("app.factory",[]);a.factory("SelectListData",function(){return{weightUnitList:[{name:"选择",value:""},{name:"千克",value:"K"},{name:"磅",value:"P"}],cabinList:[{name:"选择",value:""},{name:"R-豪华头等舱",value:"R"},{name:"F-头等舱",value:"F"},{name:"J-豪华商务舱",value:"J"},{name:"C-商务舱",value:"C"},{name:"P-豪华经济舱",value:"P"},{name:"Y-经济舱",value:"Y"}],geoLocTypeList:[{name:"选择",value:""},{name:"A-大区",value:"A"},{name:"C-城市",value:"C"},{name:"N-国家",value:"N"},{name:"P-机场",value:"P"},{name:"S-州",value:"S"},{name:"Z-区域",value:"Z"}],indicatorReissueRefundList:[{name:"选择",value:""},{name:"不可退款",value:"N"},{name:"可退款",value:"Y"},{name:"不可退款，下一次购票可同EMD单出",value:"R"}],formOfRefundList:[{name:"选择",value:""},{name:"按原付款渠道退款",value:"1"},{name:"按电子凭证退款",value:"2"}],geoSpecSectPortJourneyList:[{name:"选择",value:""},{name:"区域",value:"S"},{name:"部分",value:"P"},{name:"全程",value:"J"}],geoSpecExceptionStopUnitList:[{name:"分",value:"N"},{name:"小时",value:"H"},{name:"天",value:"D"},{name:"周",value:"W"},{name:"月",value:"M"}],timeApplicationList:[{name:"选择",value:""},{name:"分别",value:"D"},{name:"之间",value:"R"}]}}),a.factory("FormData",["DEFAULT_SERVICETYPE",function(a){var b=$.trim($("#contextPath").val()),c=$.trim($("#carrCode").val()),d=$.trim($("#action").val());return console.log("[contextPath : "+b+"],[carrCode : "+c+"],[action:"+d+"]"),{id:"",status:"",statusDes:"",status:"",contextPath:b,carrCode:c,serviceAndSubCode:"",serviceType:a,action:d,sel1:{showStr:"",value:""},sel2:{showStr:"",value:""},sel3:{showStr:"",value:""},firstMaintenanceDate:"2015-09-09",lastMaintenanceDate:"",description:"我的描述信息",fareBasis:"",freeBaggageAllowancePieces:"",firstExcessOccurrence:"1",lastExcessOccurrence:"",freeBaggageAllowanceWeight:"",freeBaggageAllowanceUnit:"",noChargeNotAvailable:"",list196VO:[],serviceFeeCurTableNo170:"",list170VO:[{saleGeographicPointType:"A",saleGeographicPoint:"1",specFeeAmount:"11",specFeeCurrency:"CNY"},{saleGeographicPointType:"N",saleGeographicPoint:"YY",specFeeAmount:"22",specFeeCurrency:"CNY"}],mileageMinimum:"",mileageMaximum:"",specifiedServiceFeeApp:"",specServiceFeeColSub:"",specServiceFeeNetSell:"",specSevFeeAndOrIndicator:"",specifiedServiceFeeMileage:"",availability:"N",sequenceNumber:"",passengerTypeCode:"",minPassengerAge:"",maxPassengerAge:"",firstPassengerOccurrence:"",lastPassengerOccurrence:"",customerIndexScoreMinimum:"",customerIndexScoreMaxmum:"",frequentFlyerStatus:"",accountCodeTableNo172:"",list172VO:[{accountCode:"001"}],ticketDesignatorTableNo173:"",list173TicketVO:[{ticketDesignator:"avx"}],tktDesignatorTableNo173:"",list173TktVO:[],tourCode:"",cabin:"",upgradeToCabin:"",rbdTableNo198:"",list198VO:[],upgradeToRbdTableNo198:"",list198UpgradeVO:[],securityTableNo183:"",list183VO:[{travelAgency:"HH",carrierGds:"HK",dutyFunctionCode:"BZ",geographicSpecificationType:"S",geographicSpecification:"CC",codeType:"",code:"",viewBookTkt:"XX"}],publicPrivateIndicator:"",carrierFlightTableNo186:"",list186VO:[],taxApplication:"Y",tariff:"",rule:"",cxrResFareTableNo171:"",list171VO:[],equipment:"",equipmentTypeTableNo165:"",list165VO:[],startTime:"",stopTime:"",timeApplication:"",dayOfWeek:"",dayOfWeekShow:{w1:!1,w2:!1,w3:!1,w4:!1,w5:!1,w6:!1,w7:!1},advancedPurchasePeriod:"",advancedPurchaseUnit:"H",advancedPurchaseTktIssue:"",indicatorReissueRefund:"",formOfRefund:"",indicatorComission:"Y",indicatorInterline:"Y",firstTravelYear:"",firstTravelMonth:"",firstTravelDay:"",lastTravelYear:"",lastTravelMonth:"",lastTravelDay:"",travelStartDate:"",travelEndDate:"",list178Loc1Id:"",list178Loc1:[],list178Loc2Id:"",list178Loc2:[],list178Loc3Id:"",list178Loc3:[],geoSpecFromToWithin:"",geoSpecSectPortJourney:"P",geoSpecLoc1Type:"",geoSpecLoc1:"",geoSpecLoc2Type:"",geoSpecLoc2:"",geoSpecLoc3Type:"",geoSpecLoc3:"",geoSpecSectPortJourney:"",geoSpecTravelIndicator:"",geoSpecExceptionStopTime:"",geoSpecExceptionStopUnit:"H",geoSpecStopConnDes:""}}])}),define("fare/oc/1.0.0/edit/controllers/index",["fare/oc/1.0.0/edit/controllers/eidtController","fare/oc/1.0.0/edit/controllers/controllers"],function(a){a("fare/oc/1.0.0/edit/controllers/eidtController")}),define("fare/oc/1.0.0/edit/controllers/eidtController",["fare/oc/1.0.0/edit/controllers/controllers"],function(a){var b=a("fare/oc/1.0.0/edit/controllers/controllers");b.controller("EditController",["$scope","FormData","NEW_ADD_STR","UPDATE_STR","$http","validationManager",function(a,b,c,d,e,f){a.NEW_ADD_STR=c,a.UPDATE_STR=d,a.contextPath=b.contextPath,a.data=b,a.orgData=angular.copy(b),a.submitForm=function(c){console.info("保存保单数据 :type : "+c);var d=angular.element("#ocForm");if("reset"==c)f.resetForm(d),b=angular.copy(a.orgData),a.data=b;else{var e=f.validateForm(d);console.info("form valid flag : "+e);var g=a.ocForm.fareBasis.$valid;console.info("基础运价 flag2 : "+g);var h=a.ocForm.lastMaintenanceDate.$valid;console.info("截止日期 flag3 : "+h),console.info("form valid flag : "+e)}},a.specifiedServiceFeeAppList=[{name:"选择",value:""},{name:"每一个票价组成部分算一次服务费用",value:"1"},{name:"每一个票价组成部分算一半的服务费用",value:"2"},{name:"每用一次服务算一次服务费用【F/T/M】",value:"3"},{name:"匹配的部分航程算一次服务费用",value:"4"},{name:"服务收费对应每张售票",value:"5"}],a.noChargeNotAvailableList=[{name:"收费",value:""},{name:"不适用",value:"X"},{name:"免费，不出EMD单",value:"F"},{name:"免费，出EMD单",value:"E"},{name:"免费，不出EMD单，不要求预定",value:"G"},{name:"免费，出EMD单，不要求预定",value:"H"},{name:"免费，行李规则遵循市场方航空公司规则",value:"D"},{name:"免费，行李规则遵循承运方航空公司规则",value:"O"}],a.specServiceFeeColSubList=[{name:"选择",value:""},{name:"包含",value:"I"},{name:"扣除",value:""}],a.specServiceFeeNetSellList=[{name:"销售价",value:""},{name:"净价",value:"N"}],a.cabinList=[{name:"选择",value:""},{name:"R-豪华头等舱",value:"R"},{name:"F-头等舱",value:"F"},{name:"J-豪华商务舱",value:"J"},{name:"C-商务舱",value:"C"},{name:"P-豪华经济舱",value:"P"},{name:"Y-经济舱",value:"Y"}],a.indicatorReissueRefundList=[{name:"选择",value:""},{name:"不可退款",value:"N"},{name:"可退款",value:"Y"},{name:"不可退款，下一次购票可同EMD单出",value:"R"}],a.formOfRefundList=[{name:"选择",value:""},{name:"按原付款渠道退款",value:"1"},{name:"按电子凭证退款",value:"2"}],a.geoSpecSectPortJourneyList=[{name:"选择",value:""},{name:"区域",value:"S"},{name:"部分",value:"P"},{name:"全程",value:"J"}],a.geoSpecExceptionStopUnitList=[{name:"选择",value:""},{name:"分",value:"N"},{name:"小时",value:"H"},{name:"天",value:"D"},{name:"周",value:"W"},{name:"月",value:"M"}],a.timeApplicationList=[{name:"选择",value:""},{name:"分别",value:"D"},{name:"之间",value:"R"}],a.selectedIcon="",a.selectedIcons=["Globe","Heart"],a.icons=[{value:"Gear",label:"Gear"},{value:"Globe",label:"Globe"},{value:"Heart",label:"Heart"},{value:"Camera",label:"Camera"}],a.selectedMonth=0,a.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}])}),define("fare/oc/1.0.0/edit/controllers/controllers",[],function(){var a=angular.module("app.controllers",[]);return a}),define("fare/oc/1.0.0/edit/directives/index",["fare/oc/1.0.0/edit/directives/tableDirective","fare/oc/1.0.0/edit/directives/directives","underscore","fare/oc/1.0.0/edit/directives/commonDirective","fare/oc/1.0.0/edit/directives/validDirective"],function(a){a("fare/oc/1.0.0/edit/directives/tableDirective"),a("fare/oc/1.0.0/edit/directives/commonDirective"),a("fare/oc/1.0.0/edit/directives/validDirective")}),define("fare/oc/1.0.0/edit/directives/tableDirective",["fare/oc/1.0.0/edit/directives/directives","underscore"],function(a){var b=a("fare/oc/1.0.0/edit/directives/directives"),c=a("fare/oc/1.0.0/edit/tpls/tb_btnAdd.html"),d=a("fare/oc/1.0.0/edit/tpls/tb_btnUpdate.html"),e=a("fare/oc/1.0.0/edit/tpls/tb_btnDelete.html"),f=a("fare/oc/1.0.0/edit/tpls/tb_row.html"),g=a("underscore");b.directive("tbDelete",function(){return{restrict:"E",replace:!0,template:e,scope:{list:"=",myindex:"="},link:function(a,b){b.bind("click",function(){a.$apply(function(){a.list.splice(a.myindex,1)})})}}}),b.directive("tbAdd",["$compile","SelectListData",function(a,b){return{restrict:"E",replace:!0,scope:{list:"=",title:"@"},template:c,link:function(c,d,e){c.selectList=b;var h=c.title||"标题";c.title=h,c.rowData={type:"",code:"",money:"",unin:"CNY"};var i=e.tpl;d.bind("click",function(){var b=g.template(f),d=b({value:i}),e=$("#myModal");e.html(d),a(angular.element("body").find("#myModal"))(c),$("#myModal").modal("show").css({"margin-top":"70px"})}),c.submitFunc=function(){console.info(c.rowData),c.list.push(angular.copy(c.rowData)),$("#myModal").modal("hide")}}}}]),b.directive("tbUpdate",["$compile","SelectListData",function(a,b){return{restrict:"E",replace:!0,scope:{obj:"=",list:"=",title:"@"},template:d,link:function(c,d,e){c.selectList=b;var h=c.title||"标题";c.title=h;var i=e.tpl;d.bind("click",function(){c.rowData=angular.copy(c.obj);var b=g.template(f),d=b({value:i}),e=$("#myModal");e.html(d),a(angular.element("body").find("#myModal"))(c),$("#myModal").modal("show").css({"margin-top":"70px"})}),c.submitFunc=function(){console.info(c.rowData),c.obj=angular.copy(c.rowData),$("#myModal").modal("hide")}}}}])}),define("fare/oc/1.0.0/edit/directives/directives",[],function(){var a=angular.module("app.directives",[]);return a}),define("fare/oc/1.0.0/edit/tpls/tb_btnAdd.html",[],'<span class="glyphicon glyphicon-plus myhand text-success"\n      data-toggle="tooltip"\n      title="新增"\n      aria-hidden="true">\n</span>'),define("fare/oc/1.0.0/edit/tpls/tb_btnUpdate.html",[],'<span class="glyphicon glyphicon-pencil myhand text-info"\n      aria-hidden="true"\n      data-toggle="tooltip"\n      title="修改">\n</span>'),define("fare/oc/1.0.0/edit/tpls/tb_btnDelete.html",[],'<span class="glyphicon glyphicon-remove myhand text-danger"\n      aria-hidden="true" data-toggle="tooltip" title="删除"></span>'),define("fare/oc/1.0.0/edit/tpls/tb_row.html",[],'<div class="modal-dialog">\n    <div class="modal-content">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>\n            <h4 class="modal-title" id="myModalLabel" ng-bind="title"></h4>\n        </div>\n        <div class="modal-body">\n            <form  name = "ocModelForm" class="form-horizontal" role="form">\n            <%if("tb170.html"==value){%>\n                <div class="form-group has-feedback">\n                    <label  class="col-sm-3 control-label">销售地类型</label>\n                    <div class="col-sm-6">\n                        <select ng-model="rowData.saleGeographicPointType"\n                                class="form-control input-sm"\n                                ng-options="o.value as o.name for o in selectList.geoLocTypeList">\n                        </select>\n                    </div>\n                </div>\n                <div class="form-group  has-feedback">\n                    <label  class="col-sm-3 control-label">销售地代码</label>\n                    <div class="col-sm-6">\n                        <input type="text"  name="saleGeographicPoint" ng-required="true" ng-model="rowData.saleGeographicPoint" class="form-control input-sm"  >\n                    </div>\n                </div>\n                <div class="form-group  has-feedback">\n                    <label  class="col-sm-3 control-label">金额</label>\n                    <div class="col-sm-6">\n                        <input type="text" integer="true" ng-maxlength="7"  ng-required="true" name ="specFeeAmount" ng-model="rowData.specFeeAmount" class="form-control input-sm" >\n                    </div>\n                </div>\n                <div class="form-group  has-feedback">\n                    <label  class="col-sm-3 control-label">货比类型</label>\n                    <div class="col-sm-6">\n                        <input type="text" ng-maxlength="3" ng-required="true" name="specFeeCurrency" ng-model="rowData.specFeeCurrency" upper-input="" class="form-control input-sm">\n                    </div>\n                </div>\n            <%}else if("tb172.html"==value){%>\n                <div class="form-group   has-success has-feedback">\n                    <label  class="col-sm-3 control-label">大客户编码</label>\n                    <div class="col-sm-6">\n                        <input type="text" ng-model="rowData.accountCode" class="form-control input-sm"  aria-describedby="inputSuccess2Status">\n                        <span class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>\n                    </div>\n                    <div class="col-sm-3 pt_tip">\n                        <span class = "text-danger">必填项</span>\n                    </div>\n                </div>\n            <%}else if("tb173Ticket.html"==value){%>\n                <div class="form-group   has-success has-feedback">\n                    <label  class="col-sm-3 control-label">指定客票</label>\n                    <div class="col-sm-6">\n                        <input type="text" ng-model="rowData.ticketDesignator" class="form-control input-sm"  aria-describedby="inputSuccess2Status">\n                        <span class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>\n                    </div>\n                    <div class="col-sm-3 pt_tip">\n                        <span class = "text-danger">必填项</span>\n                    </div>\n                </div>\n            <%}else if("tb183.html"==value){%>\n                <div class="form-group   has-success has-feedback">\n                    <label  class="col-sm-3 control-label">旅行社</label>\n                    <div class="col-sm-6">\n                        <input type="text" ng-model="rowData.travelAgency" class="form-control input-sm"  aria-describedby="inputSuccess2Status">\n                        <span class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>\n                    </div>\n                    <div class="col-sm-3 pt_tip">\n                        <span class = "text-danger">必填项</span>\n                    </div>\n                </div>\n                <div class="form-group   has-success has-feedback">\n                    <label  class="col-sm-3 control-label">航空公司、分销商</label>\n                    <div class="col-sm-6">\n                        <input type="text" ng-model="rowData.carrierGds" class="form-control input-sm"  aria-describedby="inputSuccess2Status">\n                        <span class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>\n                    </div>\n                    <div class="col-sm-3 pt_tip">\n                        <span class = "text-danger">必填项</span>\n                    </div>\n                </div>\n                <div class="form-group   has-success has-feedback">\n                    <label  class="col-sm-3 control-label">职责、功能码</label>\n                    <div class="col-sm-6">\n                        <input type="text" ng-model="rowData.dutyFunctionCode" class="form-control input-sm"  aria-describedby="inputSuccess2Status">\n                        <span class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>\n                    </div>\n                    <div class="col-sm-3 pt_tip">\n                        <span class = "text-danger">必填项</span>\n                    </div>\n                </div>\n                <div class="form-group   has-success has-feedback">\n                    <label  class="col-sm-3 control-label">区域类型</label>\n                    <div class="col-sm-6">\n                        <input type="text" ng-model="rowData.geographicSpecificationType" class="form-control input-sm"  aria-describedby="inputSuccess2Status">\n                        <span class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>\n                    </div>\n                    <div class="col-sm-3 pt_tip">\n                        <span class = "text-danger">必填项</span>\n                    </div>\n                </div>\n                <div class="form-group   has-success has-feedback">\n                    <label  class="col-sm-3 control-label">区域代码</label>\n                    <div class="col-sm-6">\n                        <input type="text" ng-model="rowData.geographicSpecification" class="form-control input-sm"  aria-describedby="inputSuccess2Status">\n                        <span class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>\n                    </div>\n                    <div class="col-sm-3 pt_tip">\n                        <span class = "text-danger">必填项</span>\n                    </div>\n                </div>\n                <div class="form-group   has-success has-feedback">\n                    <label  class="col-sm-3 control-label">发布对象类型</label>\n                    <div class="col-sm-6">\n                        <input type="text" ng-model="rowData.codeType" class="form-control input-sm"  aria-describedby="inputSuccess2Status">\n                        <span class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>\n                    </div>\n                    <div class="col-sm-3 pt_tip">\n                        <span class = "text-danger">必填项</span>\n                    </div>\n                </div>\n                <div class="form-group   has-success has-feedback">\n                    <label  class="col-sm-3 control-label">发布对象代码</label>\n                    <div class="col-sm-6">\n                        <input type="text" ng-model="rowData.code" class="form-control input-sm"  aria-describedby="inputSuccess2Status">\n                        <span class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>\n                    </div>\n                    <div class="col-sm-3 pt_tip">\n                        <span class = "text-danger">必填项</span>\n                    </div>\n                </div>\n                <div class="form-group   has-success has-feedback">\n                    <label  class="col-sm-3 control-label">权限</label>\n                    <div class="col-sm-6">\n                        <input type="text" ng-model="rowData.viewBookTkt" class="form-control input-sm"  aria-describedby="inputSuccess2Status">\n                        <span class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>\n                    </div>\n                    <div class="col-sm-3 pt_tip">\n                        <span class = "text-danger">必填项</span>\n                    </div>\n                </div>\n            <%}else{%>\n                <h2>表格不支持修改</h2>\n            <%}%>\n            </form>\n        </div>\n        <div class="modal-footer">\n            <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>\n            <button type="button" ng-click="submitFunc()" ng-disabled = "ocModelForm.$invalid" class="btn btn-primary">提交更改</button>\n        </div>\n    </div>\n</div>\n\n\n\n'),define("fare/oc/1.0.0/edit/directives/commonDirective",["fare/oc/1.0.0/edit/directives/directives","underscore"],function(a){var b=a("fare/oc/1.0.0/edit/directives/directives");a("underscore"),b.directive("ocInputValid",function(){return{restrict:"E",replace:!0,template:function(a,b){var c=b.name,d=c+".$invalid&&"+c+".$dirty",e='<span class="glyphicon  form-control-feedback"ng-class="{true:\'glyphicon-remove\'}['+d+']" aria-hidden="true"></span>';return e},link:function(a,b){b.bind("click",function(){a.$apply(function(){a.list.splice(a.myindex,1)})})}}}),b.directive("commmonInput",function(){return{restrict:"E",replace:!0,scope:{},link:function(a,b){b.trigger("click")}}}),b.directive("setFocus",function(){return{restrict:"AE",replace:!0,scope:{},link:function(a,b){b.trigger("click")}}}),b.directive("upperInput",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){d&&b.bind("blur",function(){a.$apply(function(){var a=d.$viewValue||"";a=a.toUpperCase(),d.$setViewValue(a),b.val(a)})})}}})}),define("fare/oc/1.0.0/edit/directives/validDirective",["fare/oc/1.0.0/edit/directives/directives"],function(a){var b=a("fare/oc/1.0.0/edit/directives/directives"),c=/^[A-Za-z0-9]{0,}$/;b.directive("alphanumeric",function(){return{require:"ngModel",link:function(a,b,d,e){e.$parsers.unshift(function(a){return c.test(a)?(e.$setValidity("alphanumeric",!0),a):(e.$setValidity("alphanumeric",!1),void 0)})}}});var d=/^\-?\d*$/;b.directive("integer",function(){return{require:"ngModel",link:function(a,b,c,e){e.$parsers.unshift(function(a){return d.test(a)?(e.$setValidity("integer",!0),a):(e.$setValidity("integer",!1),void 0)})}}});var e=/^\-?\d+((\.|\,)\d+)?$/;b.directive("smartFloat",function(){return{require:"ngModel",link:function(a,b,c,d){d.$parsers.unshift(function(a){return e.test(a)?(d.$setValidity("float",!0),parseFloat(a.replace(",","."))):(d.$setValidity("float",!1),void 0)})}}}),b.directive("remoteValidation",["$http",function(a){return{require:"ngModel",link:function(b,c,d,e){c.bind("keyup",function(){a({method:"GET",url:"FormValidation.jsp"}).success(function(a){0==parseInt(a)?e.$setValidity("remote",!0):e.$setValidity("remote",!1)}).error(function(){e.$setValidity("remote",!1)})})}}}])}),define("fare/oc/1.0.0/lib/module",["fare/oc/1.0.0/lib/helpers/compiler","fare/oc/1.0.0/lib/helpers/date-formatter","fare/oc/1.0.0/lib/helpers/date-parser","fare/oc/1.0.0/lib/helpers/debounce","fare/oc/1.0.0/lib/helpers/dimensions","fare/oc/1.0.0/lib/helpers/parse-options","fare/oc/1.0.0/lib/helpers/raf","fare/oc/1.0.0/lib/datepicker/datepicker","fare/oc/1.0.0/lib/timepicker/timepicker","fare/oc/1.0.0/lib/tooltip/tooltip","fare/oc/1.0.0/lib/valid/index","fare/oc/1.0.0/lib/valid/config/index","fare/oc/1.0.0/lib/valid/config/ngModelDecorator","fare/oc/1.0.0/lib/valid/jcs-auto-validate","fare/oc/1.0.0/lib/valid/config/ngSubmitDecorator","fare/oc/1.0.0/lib/valid/directives/index","fare/oc/1.0.0/lib/valid/directives/autoValidateFormOptions","fare/oc/1.0.0/lib/valid/directives/formReset","fare/oc/1.0.0/lib/valid/directives/registerCustomFormControl","fare/oc/1.0.0/lib/valid/providers/validator","fare/oc/1.0.0/lib/valid/services/index","fare/oc/1.0.0/lib/valid/services/bootstrap3ElementModifier_modify","fare/oc/1.0.0/lib/valid/services/debounce","fare/oc/1.0.0/lib/valid/services/defaultErrorMessageResolver","fare/oc/1.0.0/lib/valid/services/foundation5ElementModifier","fare/oc/1.0.0/lib/valid/services/validationManager"],function(a){a("fare/oc/1.0.0/lib/helpers/compiler"),a("fare/oc/1.0.0/lib/helpers/date-formatter"),a("fare/oc/1.0.0/lib/helpers/date-parser"),a("fare/oc/1.0.0/lib/helpers/debounce"),a("fare/oc/1.0.0/lib/helpers/dimensions"),a("fare/oc/1.0.0/lib/helpers/parse-options"),a("fare/oc/1.0.0/lib/helpers/raf"),a("fare/oc/1.0.0/lib/datepicker/datepicker"),a("fare/oc/1.0.0/lib/timepicker/timepicker"),a("fare/oc/1.0.0/lib/tooltip/tooltip"),a("fare/oc/1.0.0/lib/valid/index"),angular.module("mgcrea.ngStrap",["mgcrea.ngStrap.datepicker","mgcrea.ngStrap.timepicker","mgcrea.ngStrap.tooltip","jcs-autoValidate"])}),define("fare/oc/1.0.0/lib/helpers/compiler",[],function(){"use strict";angular.module("mgcrea.ngStrap.core",[]).service("$bsCompiler",["$q","$http","$injector","$compile","$controller","$templateCache",function(a,b,c,d,e,f){function g(a,b){return angular.element((b||document).querySelectorAll(a))}function h(a){return i[a]?i[a]:i[a]=b.get(a,{cache:f}).then(function(a){return a.data})}this.compile=function(b){b.template&&/\.html$/.test(b.template)&&(console.warn("Deprecated use of `template` option to pass a file. Please use the `templateUrl` option instead."),b.templateUrl=b.template,b.template="");var f=b.templateUrl,i=b.template||"",j=b.controller,k=b.controllerAs,l=angular.copy(b.resolve||{}),m=angular.copy(b.locals||{}),n=b.transformTemplate||angular.identity,o=b.bindToController;return angular.forEach(l,function(a,b){l[b]=angular.isString(a)?c.get(a):c.invoke(a)}),angular.extend(l,m),l.$template=f?h(f):a.when(i),b.contentTemplate&&(l.$template=a.all([l.$template,h(b.contentTemplate)]).then(function(a){var c=angular.element(a[0]),d=g('[ng-bind="content"]',c[0]).removeAttr("ng-bind").html(a[1]);return b.templateUrl||d.next().remove(),c[0].outerHTML})),a.all(l).then(function(a){var c=n(a.$template);b.html&&(c=c.replace(/ng-bind="/gi,'ng-bind-html="'));var f=angular.element("<div>").html(c.trim()).contents(),g=d(f);return{locals:a,element:f,link:function(b){if(a.$scope=b,j){var c=e(j,a,!0);o&&angular.extend(c.instance,a);var d=angular.isObject(c)?c:c();f.data("$ngControllerController",d),f.children().data("$ngControllerController",d),k&&(b[k]=d)}return g.apply(null,arguments)}}})};var i={}}])}),define("fare/oc/1.0.0/lib/helpers/date-formatter",[],function(){"use strict";angular.module("mgcrea.ngStrap.helpers.dateFormatter",[]).service("$dateFormatter",["$locale","dateFilter",function(a,b){function c(a){return/(h+)([:\.])?(m+)([:\.])?(s*)[ ]?(a?)/i.exec(a).slice(1)}this.getDefaultLocale=function(){return a.id},this.getDatetimeFormat=function(b){return a.DATETIME_FORMATS[b]||b},this.weekdaysShort=function(){return a.DATETIME_FORMATS.SHORTDAY},this.hoursFormat=function(a){return c(a)[0]},this.minutesFormat=function(a){return c(a)[2]},this.secondsFormat=function(a){return c(a)[4]},this.timeSeparator=function(a){return c(a)[1]},this.showSeconds=function(a){return!!c(a)[4]},this.showAM=function(a){return!!c(a)[5]},this.formatDate=function(a,c,d,e){return b(a,c,e)}}])}),define("fare/oc/1.0.0/lib/helpers/date-parser",[],function(){"use strict";angular.module("mgcrea.ngStrap.helpers.dateParser",[]).provider("$dateParser",["$localeProvider",function(){function a(){this.year=1970,this.month=0,this.day=1,this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0}function b(){}function c(a){return!isNaN(parseFloat(a))&&isFinite(a)}function d(a,b){for(var c=a.length,d=b.toString().toLowerCase(),e=0;c>e;e++)if(a[e].toLowerCase()===d)return e;return-1}a.prototype.setMilliseconds=function(a){this.milliseconds=a},a.prototype.setSeconds=function(a){this.seconds=a},a.prototype.setMinutes=function(a){this.minutes=a},a.prototype.setHours=function(a){this.hours=a},a.prototype.getHours=function(){return this.hours},a.prototype.setDate=function(a){this.day=a},a.prototype.setMonth=function(a){this.month=a},a.prototype.setFullYear=function(a){this.year=a},a.prototype.fromDate=function(a){return this.year=a.getFullYear(),this.month=a.getMonth(),this.day=a.getDate(),this.hours=a.getHours(),this.minutes=a.getMinutes(),this.seconds=a.getSeconds(),this.milliseconds=a.getMilliseconds(),this},a.prototype.toDate=function(){return new Date(this.year,this.month,this.day,this.hours,this.minutes,this.seconds,this.milliseconds)};var e=a.prototype,f=this.defaults={format:"shortDate",strict:!1},g=function(g,h){var i=function(i){function j(a){var b,c=Object.keys(r),d=[],e=[],f=a;for(b=0;b<c.length;b++)if(a.split(c[b]).length>1){var g=f.search(c[b]);a=a.split(c[b]).join(""),r[c[b]]&&(d[g]=r[c[b]])}return angular.forEach(d,function(a){a&&e.push(a)}),e}function k(a){return a.replace(/\//g,"[\\/]").replace("/-/g","[-]").replace(/\./g,"[.]").replace(/\\s/g,"[\\s]")}function l(a){var b,c=Object.keys(q),d=a;for(b=0;b<c.length;b++)d=d.split(c[b]).join("${"+b+"}");for(b=0;b<c.length;b++)d=d.split("${"+b+"}").join("("+q[c[b]]+")");return a=k(a),new RegExp("^"+d+"$",["i"])}var m,n,o=angular.extend({},f,i),p={},q={sss:"[0-9]{3}",ss:"[0-5][0-9]",s:o.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",mm:"[0-5][0-9]",m:o.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",HH:"[01][0-9]|2[0-3]",H:o.strict?"1?[0-9]|2[0-3]":"[01]?[0-9]|2[0-3]",hh:"[0][1-9]|[1][012]",h:o.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",a:"AM|PM",EEEE:g.DATETIME_FORMATS.DAY.join("|"),EEE:g.DATETIME_FORMATS.SHORTDAY.join("|"),dd:"0[1-9]|[12][0-9]|3[01]",d:o.strict?"[1-9]|[1-2][0-9]|3[01]":"0?[1-9]|[1-2][0-9]|3[01]",MMMM:g.DATETIME_FORMATS.MONTH.join("|"),MMM:g.DATETIME_FORMATS.SHORTMONTH.join("|"),MM:"0[1-9]|1[012]",M:o.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",yyyy:"[1]{1}[0-9]{3}|[2]{1}[0-9]{3}",yy:"[0-9]{2}",y:o.strict?"-?(0|[1-9][0-9]{0,3})":"-?0*[0-9]{1,4}"},r={sss:e.setMilliseconds,ss:e.setSeconds,s:e.setSeconds,mm:e.setMinutes,m:e.setMinutes,HH:e.setHours,H:e.setHours,hh:e.setHours,h:e.setHours,EEEE:b,EEE:b,dd:e.setDate,d:e.setDate,a:function(a){var b=this.getHours()%12;return this.setHours(a.match(/pm/i)?b+12:b)},MMMM:function(a){return this.setMonth(d(g.DATETIME_FORMATS.MONTH,a))},MMM:function(a){return this.setMonth(d(g.DATETIME_FORMATS.SHORTMONTH,a))
},MM:function(a){return this.setMonth(1*a-1)},M:function(a){return this.setMonth(1*a-1)},yyyy:e.setFullYear,yy:function(a){return this.setFullYear(2e3+1*a)},y:function(a){return 50>=1*a&&2===a.length?this.setFullYear(2e3+1*a):this.setFullYear(1*a)}};return p.init=function(){p.$format=g.DATETIME_FORMATS[o.format]||o.format,m=l(p.$format),n=j(p.$format)},p.isValid=function(a){return angular.isDate(a)?!isNaN(a.getTime()):m.test(a)},p.parse=function(b,c,d,e){d&&(d=g.DATETIME_FORMATS[d]||d),angular.isDate(b)&&(b=h(b,d||p.$format,e));var f=d?l(d):m,i=d?j(d):n,k=f.exec(b);if(!k)return!1;for(var o=c&&!isNaN(c.getTime())?(new a).fromDate(c):(new a).fromDate(new Date(1970,0,1,0)),q=0;q<k.length-1;q++)i[q]&&i[q].call(o,k[q+1]);var r=o.toDate();return parseInt(o.day,10)!==r.getDate()?!1:r},p.getDateForAttribute=function(a,b){var d;if("today"===b){var e=new Date;d=new Date(e.getFullYear(),e.getMonth(),e.getDate()+("maxDate"===a?1:0),0,0,0,"minDate"===a?0:-1)}else d=angular.isString(b)&&b.match(/^".+"$/)?new Date(b.substr(1,b.length-2)):c(b)?new Date(parseInt(b,10)):angular.isString(b)&&0===b.length?"minDate"===a?-1/0:+1/0:new Date(b);return d},p.getTimeForAttribute=function(a,b){var d;return d="now"===b?(new Date).setFullYear(1970,0,1):angular.isString(b)&&b.match(/^".+"$/)?new Date(b.substr(1,b.length-2)).setFullYear(1970,0,1):c(b)?new Date(parseInt(b,10)).setFullYear(1970,0,1):angular.isString(b)&&0===b.length?"minTime"===a?-1/0:+1/0:p.parse(b,new Date(1970,0,1,0))},p.daylightSavingAdjust=function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},p.timezoneOffsetAdjust=function(a,b,c){return a?(b&&"UTC"===b&&(a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+(c?-1:1)*a.getTimezoneOffset())),a):null},p.init(),p};return i};g.$inject=["$locale","dateFilter"],this.$get=g}])}),define("fare/oc/1.0.0/lib/helpers/debounce",[],function(){"use strict";angular.module("mgcrea.ngStrap.helpers.debounce",[]).factory("debounce",["$timeout",function(a){return function(b,c,d){var e=null;return function(){var f=this,g=arguments,h=d&&!e;return e&&a.cancel(e),e=a(function(){e=null,d||b.apply(f,g)},c,!1),h&&b.apply(f,g),e}}}]).factory("throttle",["$timeout",function(a){return function(b,c,d){var e=null;return d||(d={}),function(){var f=this,g=arguments;e||(d.leading!==!1&&b.apply(f,g),e=a(function(){e=null,d.trailing!==!1&&b.apply(f,g)},c,!1))}}}])}),define("fare/oc/1.0.0/lib/helpers/dimensions",[],function(){"use strict";angular.module("mgcrea.ngStrap.helpers.dimensions",[]).factory("dimensions",["$document","$window",function(){angular.element;var a={},b=a.nodeName=function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()};a.css=function(a,b,c){var d;return d=a.currentStyle?a.currentStyle[b]:window.getComputedStyle?window.getComputedStyle(a)[b]:a.style[b],c===!0?parseFloat(d)||0:d},a.offset=function(a){var b=a.getBoundingClientRect(),c=a.ownerDocument;return{width:b.width||a.offsetWidth,height:b.height||a.offsetHeight,top:b.top+(window.pageYOffset||c.documentElement.scrollTop)-(c.documentElement.clientTop||0),left:b.left+(window.pageXOffset||c.documentElement.scrollLeft)-(c.documentElement.clientLeft||0)}},a.setOffset=function(b,c,d){var e,f,g,h,i,j,k,l=a.css(b,"position"),m=angular.element(b),n={};"static"===l&&(b.style.position="relative"),i=a.offset(b),g=a.css(b,"top"),j=a.css(b,"left"),k=("absolute"===l||"fixed"===l)&&(g+j).indexOf("auto")>-1,k?(e=a.position(b),h=e.top,f=e.left):(h=parseFloat(g)||0,f=parseFloat(j)||0),angular.isFunction(c)&&(c=c.call(b,d,i)),null!==c.top&&(n.top=c.top-i.top+h),null!==c.left&&(n.left=c.left-i.left+f),"using"in c?c.using.call(m,n):m.css({top:n.top+"px",left:n.left+"px"})},a.position=function(d){var e,f,g={top:0,left:0};return"fixed"===a.css(d,"position")?f=d.getBoundingClientRect():(e=c(d),f=a.offset(d),b(e,"html")||(g=a.offset(e)),g.top+=a.css(e,"borderTopWidth",!0),g.left+=a.css(e,"borderLeftWidth",!0)),{width:d.offsetWidth,height:d.offsetHeight,top:f.top-g.top-a.css(d,"marginTop",!0),left:f.left-g.left-a.css(d,"marginLeft",!0)}};var c=function(c){var d=c.ownerDocument,e=c.offsetParent||d;if(b(e,"#document"))return d.documentElement;for(;e&&!b(e,"html")&&"static"===a.css(e,"position");)e=e.offsetParent;return e||d.documentElement};return a.height=function(b,c){var d=b.offsetHeight;return c?d+=a.css(b,"marginTop",!0)+a.css(b,"marginBottom",!0):d-=a.css(b,"paddingTop",!0)+a.css(b,"paddingBottom",!0)+a.css(b,"borderTopWidth",!0)+a.css(b,"borderBottomWidth",!0),d},a.width=function(b,c){var d=b.offsetWidth;return c?d+=a.css(b,"marginLeft",!0)+a.css(b,"marginRight",!0):d-=a.css(b,"paddingLeft",!0)+a.css(b,"paddingRight",!0)+a.css(b,"borderLeftWidth",!0)+a.css(b,"borderRightWidth",!0),d},a}])}),define("fare/oc/1.0.0/lib/helpers/parse-options",[],function(){"use strict";angular.module("mgcrea.ngStrap.helpers.parseOptions",[]).provider("$parseOptions",function(){var a=this.defaults={regexp:/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/};this.$get=function(b,c){function d(d,e){function f(a,b){return a.map(function(a,c){var d,e,f={};return f[k]=a,d=j(b,f),e=n(b,f),{label:d,value:e,index:c}})}var g={},h=angular.extend({},a,e);g.$values=[];var i,j,k,l,m,n,o;return g.init=function(){g.$match=i=d.match(h.regexp),j=b(i[2]||i[1]),k=i[4]||i[6],l=i[5],m=b(i[3]||""),n=b(i[2]?i[1]:k),o=b(i[7])},g.valuesFn=function(a,b){return c.when(o(a,b)).then(function(b){return angular.isArray(b)||(b=[]),g.$values=b.length?f(b,a):[],g.$values})},g.displayValue=function(a){var b={};return b[k]=a,j(b)},g.init(),g}return d}})}),define("fare/oc/1.0.0/lib/helpers/raf",[],function(){"use strict";angular.version.minor<3&&angular.version.dot<14&&angular.module("ng").factory("$$rAF",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f})}),define("fare/oc/1.0.0/lib/datepicker/datepicker",[],function(a){var b=a("fare/oc/1.0.0/lib/datepicker/datepicker.tpl.html");angular.module("mgcrea.ngStrap.datepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$datepicker",function(){var a=this.defaults={animation:"am-fade",prefixClass:"datepicker",placement:"bottom-left",template:b,trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!1,dateType:"date",dateFormat:"shortDate",timezone:null,modelDateFormat:null,dayFormat:"dd",monthFormat:"MMM",yearFormat:"yyyy",monthTitleFormat:"MMMM yyyy",yearTitleFormat:"yyyy",strictFormat:!1,autoclose:!1,minDate:-1/0,maxDate:+1/0,startView:0,minView:0,startWeek:0,daysOfWeekDisabled:"",iconLeft:"glyphicon glyphicon-chevron-left",iconRight:"glyphicon glyphicon-chevron-right"},c=function(b,c,d,e,f,g,h,i){function j(b,c,d){function e(a){a.selected=j.$isSelected(a.date)}function f(){b[0].focus()}var j=h(b,angular.extend({},a,d)),m=d.scope,n=j.$options,o=j.$scope;n.startView&&(n.startView-=n.minView);var p=g(j);j.$views=p.views;var q=p.viewDate;o.$mode=n.startView,o.$iconLeft=n.iconLeft,o.$iconRight=n.iconRight;var r=j.$views[o.$mode];o.$select=function(a){j.select(a)},o.$selectPane=function(a){j.$selectPane(a)},o.$toggleMode=function(){j.setMode((o.$mode+1)%j.$views.length)},j.update=function(a){angular.isDate(a)&&!isNaN(a.getTime())&&(j.$date=a,r.update.call(r,a)),j.$build(!0)},j.updateDisabledDates=function(a){n.disabledDateRanges=a;for(var b=0,c=o.rows.length;c>b;b++)angular.forEach(o.rows[b],j.$setDisabledEl)},j.select=function(a,b){angular.isDate(c.$dateValue)||(c.$dateValue=new Date(a)),!o.$mode||b?(c.$setViewValue(angular.copy(a)),c.$render(),n.autoclose&&!b&&i(function(){j.hide(!0)})):(angular.extend(q,{year:a.getFullYear(),month:a.getMonth(),date:a.getDate()}),j.setMode(o.$mode-1),j.$build())},j.setMode=function(a){o.$mode=a,r=j.$views[o.$mode],j.$build()},j.$build=function(a){a===!0&&r.built||(a!==!1||r.built)&&r.build.call(r)},j.$updateSelected=function(){for(var a=0,b=o.rows.length;b>a;a++)angular.forEach(o.rows[a],e)},j.$isSelected=function(a){return r.isSelected(a)},j.$setDisabledEl=function(a){a.disabled=r.isDisabled(a.date)},j.$selectPane=function(a){var b=r.steps,c=new Date(Date.UTC(q.year+(b.year||0)*a,q.month+(b.month||0)*a,1));angular.extend(q,{year:c.getUTCFullYear(),month:c.getUTCMonth(),date:c.getUTCDate()}),j.$build()},j.$onMouseDown=function(a){if(a.preventDefault(),a.stopPropagation(),l){var b=angular.element(a.target);"button"!==b[0].nodeName.toLowerCase()&&(b=b.parent()),b.triggerHandler("click")}},j.$onKeyDown=function(a){if(/(38|37|39|40|13)/.test(a.keyCode)&&!a.shiftKey&&!a.altKey){if(a.preventDefault(),a.stopPropagation(),13===a.keyCode)return o.$mode?o.$apply(function(){j.setMode(o.$mode-1)}):j.hide(!0);r.onKeyDown(a),m.$digest()}};var s=j.init;j.init=function(){return k&&n.useNative?(b.prop("type","date"),b.css("-webkit-appearance","textfield"),void 0):(l&&(b.prop("type","text"),b.attr("readonly","true"),b.on("click",f)),s(),void 0)};var t=j.destroy;j.destroy=function(){k&&n.useNative&&b.off("click",f),t()};var u=j.show;j.show=function(){!l&&b.attr("readonly")||b.attr("disabled")||(u(),i(function(){j.$isShown&&(j.$element.on(l?"touchstart":"mousedown",j.$onMouseDown),n.keyboard&&b.on("keydown",j.$onKeyDown))},0,!1))};var v=j.hide;return j.hide=function(a){j.$isShown&&(j.$element.off(l?"touchstart":"mousedown",j.$onMouseDown),n.keyboard&&b.off("keydown",j.$onKeyDown),v(a))},j}angular.element(b.document.body);var k=/(ip(a|o)d|iphone|android)/gi.test(b.navigator.userAgent),l="createTouch"in b.document&&k;return a.lang||(a.lang=f.getDefaultLocale()),j.defaults=a,j};c.$inject=["$window","$document","$rootScope","$sce","$dateFormatter","datepickerViews","$tooltip","$timeout"],this.$get=c}).directive("bsDatepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$datepicker",function(a,b,c,d,e,f){f.defaults;var g=/(ip(a|o)d|iphone|android)/gi.test(a.navigator.userAgent);return{restrict:"EAC",require:"ngModel",link:function(a,b,c,h){function i(a){return a&&a.length?a:null}function j(a){if(angular.isDate(a)){var b=isNaN(n.$options.minDate)||a.getTime()>=n.$options.minDate,c=isNaN(n.$options.maxDate)||a.getTime()<=n.$options.maxDate,d=b&&c;h.$setValidity("date",d),h.$setValidity("min",b),h.$setValidity("max",c),d&&(h.$dateValue=a)}}function k(){return!h.$dateValue||isNaN(h.$dateValue.getTime())?"":p(h.$dateValue,l.dateFormat)}var l={scope:a};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","html","animation","autoclose","dateType","dateFormat","timezone","modelDateFormat","dayFormat","strictFormat","startWeek","startDate","useNative","lang","startView","minView","iconLeft","iconRight","daysOfWeekDisabled","id","prefixClass","prefixEvent"],function(a){angular.isDefined(c[a])&&(l[a]=c[a])});var m=/^(false|0|)$/i;angular.forEach(["html","container","autoclose","useNative"],function(a){angular.isDefined(c[a])&&m.test(c[a])&&(l[a]=!1)}),c.bsShow&&a.$watch(c.bsShow,function(a){n&&angular.isDefined(a)&&(angular.isString(a)&&(a=!!a.match(/true|,?(datepicker),?/i)),a===!0?n.show():n.hide())});var n=f(b,h,l);l=n.$options,g&&l.useNative&&(l.dateFormat="yyyy-MM-dd");var o=l.lang,p=function(a,b){return d.formatDate(a,b,o)},q=e({format:l.dateFormat,lang:o,strict:l.strictFormat});angular.forEach(["minDate","maxDate"],function(a){angular.isDefined(c[a])&&c.$observe(a,function(b){n.$options[a]=q.getDateForAttribute(a,b),!isNaN(n.$options[a])&&n.$build(!1),j(h.$dateValue)})}),a.$watch(c.ngModel,function(){n.update(h.$dateValue)},!0),angular.isDefined(c.disabledDates)&&a.$watch(c.disabledDates,function(a,b){a=i(a),b=i(b),a&&n.updateDisabledDates(a)}),h.$parsers.unshift(function(a){var b;if(!a)return h.$setValidity("date",!0),null;var c=q.parse(a,h.$dateValue);return!c||isNaN(c.getTime())?(h.$setValidity("date",!1),void 0):(j(c),"string"===l.dateType?(b=q.timezoneOffsetAdjust(c,l.timezone,!0),p(b,l.modelDateFormat||l.dateFormat)):(b=q.timezoneOffsetAdjust(h.$dateValue,l.timezone,!0),"number"===l.dateType?b.getTime():"unix"===l.dateType?b.getTime()/1e3:"iso"===l.dateType?b.toISOString():new Date(b)))}),h.$formatters.push(function(a){var b;return b=angular.isUndefined(a)||null===a?0/0:angular.isDate(a)?a:"string"===l.dateType?q.parse(a,null,l.modelDateFormat):"unix"===l.dateType?new Date(1e3*a):new Date(a),h.$dateValue=q.timezoneOffsetAdjust(b,l.timezone),k()}),h.$render=function(){b.val(k())},a.$on("$destroy",function(){n&&n.destroy(),l=null,n=null})}}}]).provider("datepickerViews",function(){function a(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c}function b(a,b){return(a%b+b)%b}this.defaults={dayFormat:"dd",daySplit:7};var c=function(c,d,e){return function(f){var g=f.$scope,h=f.$options,i=h.lang,j=function(a,b){return c.formatDate(a,b,i)},k=d({format:h.dateFormat,lang:i,strict:h.strictFormat}),l=c.weekdaysShort(i),m=l.slice(h.startWeek).concat(l.slice(0,h.startWeek)),n=e.trustAsHtml('<th class="dow text-center">'+m.join('</th><th class="dow text-center">')+"</th>"),o=f.$date||(h.startDate?k.getDateForAttribute("startDate",h.startDate):new Date),p={year:o.getFullYear(),month:o.getMonth(),date:o.getDate()},q=[{format:h.dayFormat,split:7,steps:{month:1},update:function(a,b){!this.built||b||a.getFullYear()!==p.year||a.getMonth()!==p.month?(angular.extend(p,{year:f.$date.getFullYear(),month:f.$date.getMonth(),date:f.$date.getDate()}),f.$build()):(a.getDate()!==p.date||1===a.getDate())&&(p.date=f.$date.getDate(),f.$updateSelected())},build:function(){var c=new Date(p.year,p.month,1),d=c.getTimezoneOffset(),e=new Date(+c-864e5*b(c.getDay()-h.startWeek,7)),i=e.getTimezoneOffset(),l=k.timezoneOffsetAdjust(new Date,h.timezone).toDateString();i!==d&&(e=new Date(+e+6e4*(i-d)));for(var m,o=[],q=0;42>q;q++)m=k.daylightSavingAdjust(new Date(e.getFullYear(),e.getMonth(),e.getDate()+q)),o.push({date:m,isToday:m.toDateString()===l,label:j(m,this.format),selected:f.$date&&this.isSelected(m),muted:m.getMonth()!==p.month,disabled:this.isDisabled(m)});g.title=j(c,h.monthTitleFormat),g.showLabels=!0,g.labels=n,g.rows=a(o,this.split),this.built=!0},isSelected:function(a){return f.$date&&a.getFullYear()===f.$date.getFullYear()&&a.getMonth()===f.$date.getMonth()&&a.getDate()===f.$date.getDate()},isDisabled:function(a){var b=a.getTime();if(b<h.minDate||b>h.maxDate)return!0;if(-1!==h.daysOfWeekDisabled.indexOf(a.getDay()))return!0;if(h.disabledDateRanges)for(var c=0;c<h.disabledDateRanges.length;c++)if(b>=h.disabledDateRanges[c].start&&b<=h.disabledDateRanges[c].end)return!0;return!1},onKeyDown:function(a){if(f.$date){var b,c=f.$date.getTime();37===a.keyCode?b=new Date(c-864e5):38===a.keyCode?b=new Date(c-6048e5):39===a.keyCode?b=new Date(c+864e5):40===a.keyCode&&(b=new Date(c+6048e5)),this.isDisabled(b)||f.select(b,!0)}}},{name:"month",format:h.monthFormat,split:4,steps:{year:1},update:function(a){this.built&&a.getFullYear()===p.year?a.getMonth()!==p.month&&(angular.extend(p,{month:f.$date.getMonth(),date:f.$date.getDate()}),f.$updateSelected()):(angular.extend(p,{year:f.$date.getFullYear(),month:f.$date.getMonth(),date:f.$date.getDate()}),f.$build())},build:function(){new Date(p.year,0,1);for(var b,c=[],d=0;12>d;d++)b=new Date(p.year,d,1),c.push({date:b,label:j(b,this.format),selected:f.$isSelected(b),disabled:this.isDisabled(b)});g.title=j(b,h.yearTitleFormat),g.showLabels=!1,g.rows=a(c,this.split),this.built=!0},isSelected:function(a){return f.$date&&a.getFullYear()===f.$date.getFullYear()&&a.getMonth()===f.$date.getMonth()},isDisabled:function(a){var b=+new Date(a.getFullYear(),a.getMonth()+1,0);return b<h.minDate||a.getTime()>h.maxDate},onKeyDown:function(a){if(f.$date){var b=f.$date.getMonth(),c=new Date(f.$date);37===a.keyCode?c.setMonth(b-1):38===a.keyCode?c.setMonth(b-4):39===a.keyCode?c.setMonth(b+1):40===a.keyCode&&c.setMonth(b+4),this.isDisabled(c)||f.select(c,!0)}}},{name:"year",format:h.yearFormat,split:4,steps:{year:12},update:function(a,b){!this.built||b||parseInt(a.getFullYear()/20,10)!==parseInt(p.year/20,10)?(angular.extend(p,{year:f.$date.getFullYear(),month:f.$date.getMonth(),date:f.$date.getDate()}),f.$build()):a.getFullYear()!==p.year&&(angular.extend(p,{year:f.$date.getFullYear(),month:f.$date.getMonth(),date:f.$date.getDate()}),f.$updateSelected())},build:function(){for(var b,c=p.year-p.year%(3*this.split),d=[],e=0;12>e;e++)b=new Date(c+e,0,1),d.push({date:b,label:j(b,this.format),selected:f.$isSelected(b),disabled:this.isDisabled(b)});g.title=d[0].label+"-"+d[d.length-1].label,g.showLabels=!1,g.rows=a(d,this.split),this.built=!0},isSelected:function(a){return f.$date&&a.getFullYear()===f.$date.getFullYear()},isDisabled:function(a){var b=+new Date(a.getFullYear()+1,0,0);return b<h.minDate||a.getTime()>h.maxDate},onKeyDown:function(a){if(f.$date){var b=f.$date.getFullYear(),c=new Date(f.$date);37===a.keyCode?c.setYear(b-1):38===a.keyCode?c.setYear(b-4):39===a.keyCode?c.setYear(b+1):40===a.keyCode&&c.setYear(b+4),this.isDisabled(c)||f.select(c,!0)}}}];return{views:h.minView?Array.prototype.slice.call(q,h.minView):q,viewDate:p}}};c.$inject=["$dateFormatter","$dateParser","$sce"],this.$get=c})}),define("fare/oc/1.0.0/lib/datepicker/datepicker.tpl.html",[],'<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode" style="max-width: 320px;">\n<table style="table-layout: fixed; height: 100%; width: 100%;">\n  <thead>\n    <tr class="text-center">\n      <th>\n        <button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$selectPane(-1)">\n          <i class="{{$iconLeft}}"></i>\n        </button>\n      </th>\n      <th colspan="{{ rows[0].length - 2 }}">\n        <button tabindex="-1" type="button" class="btn btn-default btn-block text-strong"  ng-click="$toggleMode()">\n          <strong style="text-transform: capitalize;" ng-bind="title"></strong>\n        </button>\n      </th>\n      <th>\n        <button tabindex="-1" type="button" class="btn btn-default pull-right" ng-click="$selectPane(+1)">\n          <i class="{{$iconRight}}"></i>\n        </button>\n      </th>\n    </tr>\n    <tr ng-show="showLabels" ng-bind-html="labels"></tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="(i, row) in rows" height="{{ 100 / rows.length }}%">\n      <td class="text-center" ng-repeat="(j, el) in row">\n        <button tabindex="-1" type="button" class="btn btn-default" style="width: 100%" ng-class="{\'btn-primary\': el.selected, \'btn-info btn-today\': el.isToday && !el.selected}" ng-click="$select(el.date)" ng-disabled="el.disabled">\n          <span ng-class="{\'text-muted\': el.muted}" ng-bind="el.label"></span>\n        </button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n</div>\n'),define("fare/oc/1.0.0/lib/timepicker/timepicker",["fare/oc/1.0.0/lib/helpers/compiler","fare/oc/1.0.0/lib/helpers/date-formatter","fare/oc/1.0.0/lib/helpers/date-parser","fare/oc/1.0.0/lib/helpers/debounce","fare/oc/1.0.0/lib/helpers/dimensions","fare/oc/1.0.0/lib/helpers/parse-options","fare/oc/1.0.0/lib/helpers/raf"],function(a){a("fare/oc/1.0.0/lib/helpers/compiler"),a("fare/oc/1.0.0/lib/helpers/date-formatter"),a("fare/oc/1.0.0/lib/helpers/date-parser"),a("fare/oc/1.0.0/lib/helpers/debounce"),a("fare/oc/1.0.0/lib/helpers/dimensions"),a("fare/oc/1.0.0/lib/helpers/parse-options"),a("fare/oc/1.0.0/lib/helpers/raf");var b=a("fare/oc/1.0.0/lib/timepicker/timepicker.tpl.html");angular.module("mgcrea.ngStrap.timepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$timepicker",function(){var a=this.defaults={animation:"am-fade",prefixClass:"timepicker",placement:"bottom-left",template:b,trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!0,timeType:"date",timeFormat:"shortTime",timezone:null,modelTimeFormat:null,autoclose:!1,minTime:-1/0,maxTime:+1/0,length:5,hourStep:1,minuteStep:5,secondStep:5,roundDisplay:!1,iconUp:"glyphicon glyphicon-chevron-up",iconDown:"glyphicon glyphicon-chevron-down",arrowBehavior:"pager"};this.$get=function(b,c,d,e,f,g,h){function i(b,c,d){function e(a){var b=6e4*o.minuteStep;return new Date(Math.floor(a.getTime()/b)*b)}function i(a,c){var d=a+c;if(b[0].createTextRange){var e=b[0].createTextRange();e.collapse(!0),e.moveStart("character",a),e.moveEnd("character",d),e.select()}else b[0].setSelectionRange?b[0].setSelectionRange(a,d):angular.isUndefined(b[0].selectionStart)&&(b[0].selectionStart=a,b[0].selectionEnd=d)}function l(){b[0].focus()}var m=g(b,angular.extend({},a,d)),n=d.scope,o=m.$options,p=m.$scope,q=o.lang,r=function(a,b,c){return f.formatDate(a,b,q,c)},s=0,t=o.roundDisplay?e(new Date):new Date,u=c.$dateValue||t,v={hour:u.getHours(),meridian:u.getHours()<12,minute:u.getMinutes(),second:u.getSeconds(),millisecond:u.getMilliseconds()},w=f.getDatetimeFormat(o.timeFormat,q),x=f.hoursFormat(w),y=f.timeSeparator(w),z=f.minutesFormat(w),A=f.secondsFormat(w),B=f.showSeconds(w),C=f.showAM(w);p.$iconUp=o.iconUp,p.$iconDown=o.iconDown,p.$select=function(a,b){m.select(a,b)},p.$moveIndex=function(a,b){m.$moveIndex(a,b)},p.$switchMeridian=function(a){m.switchMeridian(a)},m.update=function(a){angular.isDate(a)&&!isNaN(a.getTime())?(m.$date=a,angular.extend(v,{hour:a.getHours(),minute:a.getMinutes(),second:a.getSeconds(),millisecond:a.getMilliseconds()}),m.$build()):m.$isBuilt||m.$build()},m.select=function(a,b,d){(!c.$dateValue||isNaN(c.$dateValue.getTime()))&&(c.$dateValue=new Date(1970,0,1)),angular.isDate(a)||(a=new Date(a)),0===b?c.$dateValue.setHours(a.getHours()):1===b?c.$dateValue.setMinutes(a.getMinutes()):2===b&&c.$dateValue.setSeconds(a.getSeconds()),c.$setViewValue(angular.copy(c.$dateValue)),c.$render(),o.autoclose&&!d&&h(function(){m.hide(!0)})},m.switchMeridian=function(a){if(c.$dateValue&&!isNaN(c.$dateValue.getTime())){var b=(a||c.$dateValue).getHours();c.$dateValue.setHours(12>b?b+12:b-12),c.$setViewValue(angular.copy(c.$dateValue)),c.$render()}},m.$build=function(){var a,b,c=p.midIndex=parseInt(o.length/2,10),d=[];for(a=0;a<o.length;a++)b=new Date(1970,0,1,v.hour-(c-a)*o.hourStep),d.push({date:b,label:r(b,x),selected:m.$date&&m.$isSelected(b,0),disabled:m.$isDisabled(b,0)});var e,f=[];for(a=0;a<o.length;a++)e=new Date(1970,0,1,0,v.minute-(c-a)*o.minuteStep),f.push({date:e,label:r(e,z),selected:m.$date&&m.$isSelected(e,1),disabled:m.$isDisabled(e,1)});var g,h=[];for(a=0;a<o.length;a++)g=new Date(1970,0,1,0,0,v.second-(c-a)*o.secondStep),h.push({date:g,label:r(g,A),selected:m.$date&&m.$isSelected(g,2),disabled:m.$isDisabled(g,2)});var i=[];for(a=0;a<o.length;a++)B?i.push([d[a],f[a],h[a]]):i.push([d[a],f[a]]);p.rows=i,p.showSeconds=B,p.showAM=C,p.isAM=(m.$date||d[c].date).getHours()<12,p.timeSeparator=y,m.$isBuilt=!0},m.$isSelected=function(a,b){return m.$date?0===b?a.getHours()===m.$date.getHours():1===b?a.getMinutes()===m.$date.getMinutes():2===b?a.getSeconds()===m.$date.getSeconds():void 0:!1},m.$isDisabled=function(a,b){var c;return 0===b?c=a.getTime()+6e4*v.minute+1e3*v.second:1===b?c=a.getTime()+36e5*v.hour+1e3*v.second:2===b&&(c=a.getTime()+36e5*v.hour+6e4*v.minute),c<1*o.minTime||c>1*o.maxTime},p.$arrowAction=function(a,b){"picker"===o.arrowBehavior?m.$setTimeByStep(a,b):m.$moveIndex(a,b)},m.$setTimeByStep=function(a,b){var c=new Date(m.$date||u),d=c.getHours(),e=c.getMinutes(),f=c.getSeconds();0===b?c.setHours(d-parseInt(o.hourStep,10)*a):1===b?c.setMinutes(e-parseInt(o.minuteStep,10)*a):2===b&&c.setSeconds(f-parseInt(o.secondStep,10)*a),m.select(c,b,!0)},m.$moveIndex=function(a,b){var c;0===b?(c=new Date(1970,0,1,v.hour+a*o.length,v.minute,v.second),angular.extend(v,{hour:c.getHours()})):1===b?(c=new Date(1970,0,1,v.hour,v.minute+a*o.length*o.minuteStep,v.second),angular.extend(v,{minute:c.getMinutes()})):2===b&&(c=new Date(1970,0,1,v.hour,v.minute,v.second+a*o.length*o.secondStep),angular.extend(v,{second:c.getSeconds()})),m.$build()},m.$onMouseDown=function(a){if("input"!==a.target.nodeName.toLowerCase()&&a.preventDefault(),a.stopPropagation(),k){var b=angular.element(a.target);"button"!==b[0].nodeName.toLowerCase()&&(b=b.parent()),b.triggerHandler("click")}},m.$onKeyDown=function(a){if(/(38|37|39|40|13)/.test(a.keyCode)&&!a.shiftKey&&!a.altKey){if(a.preventDefault(),a.stopPropagation(),13===a.keyCode)return m.hide(!0),void 0;var b=new Date(m.$date),c=b.getHours(),d=r(b,x).length,e=b.getMinutes(),f=r(b,z).length,g=b.getSeconds(),h=r(b,A).length,j=1,k=/(37|39)/.test(a.keyCode),l=2+1*B+1*C;k&&(37===a.keyCode?s=1>s?l-1:s-1:39===a.keyCode&&(s=l-1>s?s+1:0));var p=[0,d],q=0;38===a.keyCode&&(q=-1),40===a.keyCode&&(q=1);var t=2===s&&B,u=2===s&&!B||3===s&&B;0===s?(b.setHours(c+q*parseInt(o.hourStep,10)),d=r(b,x).length,p=[0,d]):1===s?(b.setMinutes(e+q*parseInt(o.minuteStep,10)),f=r(b,z).length,p=[d+j,f]):t?(b.setSeconds(g+q*parseInt(o.secondStep,10)),h=r(b,A).length,p=[d+j+f+j,h]):u&&(k||m.switchMeridian(),p=[d+j+f+j+(h+j)*B,2]),m.select(b,s,!0),i(p[0],p[1]),n.$digest()}};var D=m.init;m.init=function(){return j&&o.useNative?(b.prop("type","time"),b.css("-webkit-appearance","textfield"),void 0):(k&&(b.prop("type","text"),b.attr("readonly","true"),b.on("click",l)),D(),void 0)};var E=m.destroy;m.destroy=function(){j&&o.useNative&&b.off("click",l),E()};var F=m.show;m.show=function(){!k&&b.attr("readonly")||b.attr("disabled")||(F(),h(function(){m.$element&&m.$element.on(k?"touchstart":"mousedown",m.$onMouseDown),o.keyboard&&b&&b.on("keydown",m.$onKeyDown)},0,!1))};var G=m.hide;return m.hide=function(a){m.$isShown&&(m.$element&&m.$element.off(k?"touchstart":"mousedown",m.$onMouseDown),o.keyboard&&b&&b.off("keydown",m.$onKeyDown),G(a))},m}var j=/(ip(a|o)d|iphone|android)/gi.test(b.navigator.userAgent),k="createTouch"in b.document&&j;return a.lang||(a.lang=f.getDefaultLocale()),i.defaults=a,i}}).directive("bsTimepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$timepicker",function(a,b,c,d,e,f){var g=f.defaults,h=/(ip(a|o)d|iphone|android)/gi.test(a.navigator.userAgent);return{restrict:"EAC",require:"ngModel",link:function(a,b,c,i){function j(a){if(angular.isDate(a)){var b=isNaN(l.minTime)||new Date(a.getTime()).setFullYear(1970,0,1)>=l.minTime,c=isNaN(l.maxTime)||new Date(a.getTime()).setFullYear(1970,0,1)<=l.maxTime,d=b&&c;i.$setValidity("date",d),i.$setValidity("min",b),i.$setValidity("max",c),d&&(i.$dateValue=a)}}function k(){return!i.$dateValue||isNaN(i.$dateValue.getTime())?"":p(i.$dateValue,l.timeFormat)}var l={scope:a};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","autoclose","timeType","timeFormat","timezone","modelTimeFormat","useNative","hourStep","minuteStep","secondStep","length","arrowBehavior","iconUp","iconDown","roundDisplay","id","prefixClass","prefixEvent"],function(a){angular.isDefined(c[a])&&(l[a]=c[a])});var m=/^(false|0|)$/i;angular.forEach(["html","container","autoclose","useNative","roundDisplay"],function(a){angular.isDefined(c[a])&&m.test(c[a])&&(l[a]=!1)}),c.bsShow&&a.$watch(c.bsShow,function(a){n&&angular.isDefined(a)&&(angular.isString(a)&&(a=!!a.match(/true|,?(timepicker),?/i)),a===!0?n.show():n.hide())}),h&&(l.useNative||g.useNative)&&(l.timeFormat="HH:mm");var n=f(b,i,l);l=n.$options;var o=l.lang,p=function(a,b,c){return d.formatDate(a,b,o,c)},q=e({format:l.timeFormat,lang:o});angular.forEach(["minTime","maxTime"],function(a){angular.isDefined(c[a])&&c.$observe(a,function(b){n.$options[a]=q.getTimeForAttribute(a,b),!isNaN(n.$options[a])&&n.$build(),j(i.$dateValue)})}),a.$watch(c.ngModel,function(){n.update(i.$dateValue)},!0),i.$parsers.unshift(function(a){var b;if(!a)return i.$setValidity("date",!0),null;var c=angular.isDate(a)?a:q.parse(a,i.$dateValue);return!c||isNaN(c.getTime())?(i.$setValidity("date",!1),void 0):(j(c),"string"===l.timeType?(b=q.timezoneOffsetAdjust(c,l.timezone,!0),p(b,l.modelTimeFormat||l.timeFormat)):(b=q.timezoneOffsetAdjust(i.$dateValue,l.timezone,!0),"number"===l.timeType?b.getTime():"unix"===l.timeType?b.getTime()/1e3:"iso"===l.timeType?b.toISOString():new Date(b)))}),i.$formatters.push(function(a){var b;return b=angular.isUndefined(a)||null===a?0/0:angular.isDate(a)?a:"string"===l.timeType?q.parse(a,null,l.modelTimeFormat):"unix"===l.timeType?new Date(1e3*a):new Date(a),i.$dateValue=q.timezoneOffsetAdjust(b,l.timezone),k()}),i.$render=function(){b.val(k())},a.$on("$destroy",function(){n&&n.destroy(),l=null,n=null})}}}])}),define("fare/oc/1.0.0/lib/timepicker/timepicker.tpl.html",[],'<div class="dropdown-menu timepicker" style="min-width: 0px;width: auto;">\n<table height="100%">\n  <thead>\n    <tr class="text-center">\n      <th>\n        <button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 0)">\n          <i class="{{ $iconUp }}"></i>\n        </button>\n      </th>\n      <th>\n        &nbsp;\n      </th>\n      <th>\n        <button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 1)">\n          <i class="{{ $iconUp }}"></i>\n        </button>\n      </th>\n      <th>\n        &nbsp;\n      </th>\n      <th>\n        <button ng-if="showSeconds" tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 2)">\n          <i class="{{ $iconUp }}"></i>\n        </button>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="(i, row) in rows">\n      <td class="text-center">\n        <button tabindex="-1" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[0].selected}" ng-click="$select(row[0].date, 0)" ng-disabled="row[0].disabled">\n          <span ng-class="{\'text-muted\': row[0].muted}" ng-bind="row[0].label"></span>\n        </button>\n      </td>\n      <td>\n        <span ng-bind="i == midIndex ? timeSeparator : \' \'"></span>\n      </td>\n      <td class="text-center">\n        <button tabindex="-1" ng-if="row[1].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[1].selected}" ng-click="$select(row[1].date, 1)" ng-disabled="row[1].disabled">\n          <span ng-class="{\'text-muted\': row[1].muted}" ng-bind="row[1].label"></span>\n        </button>\n      </td>\n      <td>\n        <span ng-bind="i == midIndex ? timeSeparator : \' \'"></span>\n      </td>\n      <td class="text-center">\n        <button tabindex="-1" ng-if="showSeconds && row[2].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[2].selected}" ng-click="$select(row[2].date, 2)" ng-disabled="row[2].disabled">\n          <span ng-class="{\'text-muted\': row[2].muted}" ng-bind="row[2].label"></span>\n        </button>\n      </td>\n      <td ng-if="showAM">\n        &nbsp;\n      </td>\n      <td ng-if="showAM">\n        <button tabindex="-1" ng-show="i == midIndex - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !!isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">AM</button>\n        <button tabindex="-1" ng-show="i == midIndex + 1 - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">PM</button>\n      </td>\n    </tr>\n  </tbody>\n  <tfoot>\n    <tr class="text-center">\n      <th>\n        <button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 0)">\n          <i class="{{ $iconDown }}"></i>\n        </button>\n      </th>\n      <th>\n        &nbsp;\n      </th>\n      <th>\n        <button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 1)">\n          <i class="{{ $iconDown }}"></i>\n        </button>\n      </th>\n      <th>\n        &nbsp;\n      </th>\n      <th>\n        <button ng-if="showSeconds" tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 2)">\n          <i class="{{ $iconDown }}"></i>\n        </button>\n      </th>\n    </tr>\n  </tfoot>\n</table>\n</div>\n'),define("fare/oc/1.0.0/lib/tooltip/tooltip",[],function(a){var b=a("fare/oc/1.0.0/lib/tooltip/tooltip.tpl.html");
angular.module("mgcrea.ngStrap.tooltip",["mgcrea.ngStrap.core","mgcrea.ngStrap.helpers.dimensions"]).provider("$tooltip",function(){var a=this.defaults={animation:"am-fade",customClass:"",prefixClass:"tooltip",prefixEvent:"tooltip",container:!1,target:!1,placement:"top",template:b,contentTemplate:!1,trigger:"hover focus",keyboard:!1,html:!1,show:!1,title:"",type:"",delay:0,autoClose:!1,bsEnabled:!0,viewport:{selector:"body",padding:0}},c=function(b,c,d,e,f,g,h,i,j,k,l){function m(e,f){function g(){H.$emit(F.prefixEvent+".show",E)}function m(){if(H.$emit(F.prefixEvent+".hide",E),N===R){if(Q&&"focus"===F.trigger)return e[0].blur();D()}}function r(){var a=F.trigger.split(" ");angular.forEach(a,function(a){"click"===a?e.on("click",E.toggle):"manual"!==a&&(e.on("hover"===a?"mouseenter":"focus",E.enter),e.on("hover"===a?"mouseleave":"blur",E.leave),"button"===I&&"hover"!==a&&e.on(p?"touchstart":"mousedown",E.$onFocusElementMouseDown))})}function s(){for(var a=F.trigger.split(" "),b=a.length;b--;){var c=a[b];"click"===c?e.off("click",E.toggle):"manual"!==c&&(e.off("hover"===c?"mouseenter":"focus",E.enter),e.off("hover"===c?"mouseleave":"blur",E.leave),"button"===I&&"hover"!==c&&e.off(p?"touchstart":"mousedown",E.$onFocusElementMouseDown))}}function t(){"focus"!==F.trigger?N.on("keyup",E.$onKeyUp):e.on("keyup",E.$onFocusKeyUp)}function u(){"focus"!==F.trigger?N.off("keyup",E.$onKeyUp):e.off("keyup",E.$onFocusKeyUp)}function v(){l(function(){N.on("click",x),q.on("click",E.hide),S=!0},0,!1)}function w(){S&&(N.off("click",x),q.off("click",E.hide),S=!1)}function x(a){a.stopPropagation()}function y(a){a=a||F.target||e;var c=a[0],d="BODY"===c.tagName,f=c.getBoundingClientRect(),g={};for(var h in f)g[h]=f[h];null===g.width&&(g=angular.extend({},g,{width:f.right-f.left,height:f.bottom-f.top}));var i=d?{top:0,left:0}:j.offset(c),k={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:a.prop("scrollTop")||0},l=d?{width:document.documentElement.clientWidth,height:b.innerHeight}:null;return angular.extend({},g,k,l,i)}function z(a,b,c,d){var e,f=a.split("-");switch(f[0]){case"right":e={top:b.top+b.height/2-d/2,left:b.left+b.width};break;case"bottom":e={top:b.top+b.height,left:b.left+b.width/2-c/2};break;case"left":e={top:b.top+b.height/2-d/2,left:b.left-c};break;default:e={top:b.top-d,left:b.left+b.width/2-c/2}}if(!f[1])return e;if("top"===f[0]||"bottom"===f[0])switch(f[1]){case"left":e.left=b.left;break;case"right":e.left=b.left+b.width-c}else if("left"===f[0]||"right"===f[0])switch(f[1]){case"top":e.top=b.top-d;break;case"bottom":e.top=b.top+b.height}return e}function A(a,b){var c=N[0],d=c.offsetWidth,e=c.offsetHeight,f=parseInt(j.css(c,"margin-top"),10),g=parseInt(j.css(c,"margin-left"),10);isNaN(f)&&(f=0),isNaN(g)&&(g=0),a.top=a.top+f,a.left=a.left+g,j.setOffset(c,angular.extend({using:function(a){N.css({top:Math.round(a.top)+"px",left:Math.round(a.left)+"px",right:""})}},a),0);var h=c.offsetWidth,i=c.offsetHeight;if("top"===b&&i!==e&&(a.top=a.top+e-i),!/top-left|top-right|bottom-left|bottom-right/.test(b)){var k=B(b,a,h,i);if(k.left?a.left+=k.left:a.top+=k.top,j.setOffset(c,a),/top|right|bottom|left/.test(b)){var l=/top|bottom/.test(b),m=l?2*k.left-d+h:2*k.top-e+i,n=l?"offsetWidth":"offsetHeight";C(m,c[n],l)}}}function B(a,b,c,d){var e={top:0,left:0};if(!E.$viewport)return e;var f=F.viewport&&F.viewport.padding||0,g=y(E.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e}function C(a,b,c){var d=o(".tooltip-arrow, .arrow",N[0]);d.css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")}function D(){clearTimeout(K),E.$isShown&&null!==N&&(F.autoClose&&w(),F.keyboard&&u()),P&&(P.$destroy(),P=null),N&&(N.remove(),N=E.$element=null)}var E={},F=E.$options=angular.extend({},a,f),G=E.$promise=d.compile(F),H=E.$scope=F.scope&&F.scope.$new()||c.$new(),I=e[0].nodeName.toLowerCase();if(F.delay&&angular.isString(F.delay)){var J=F.delay.split(",").map(parseFloat);F.delay=J.length>1?{show:J[0],hide:J[1]}:J[0]}E.$id=F.id||e.attr("id")||"",F.title&&(H.title=i.trustAsHtml(F.title)),H.$setEnabled=function(a){H.$$postDigest(function(){E.setEnabled(a)})},H.$hide=function(){H.$$postDigest(function(){E.hide()})},H.$show=function(){H.$$postDigest(function(){E.show()})},H.$toggle=function(){H.$$postDigest(function(){E.toggle()})},E.$isShown=H.$isShown=!1;var K,L,M,N,O,P;G.then(function(a){M=a,E.init()}),E.init=function(){F.delay&&angular.isNumber(F.delay)&&(F.delay={show:F.delay,hide:F.delay}),"self"===F.container?O=e:angular.isElement(F.container)?O=F.container:F.container&&(O=o(F.container)),r(),F.target&&(F.target=angular.isElement(F.target)?F.target:o(F.target)),F.show&&H.$$postDigest(function(){"focus"===F.trigger?e[0].focus():E.show()})},E.destroy=function(){s(),D(),H.$destroy()},E.enter=function(){return clearTimeout(K),L="in",F.delay&&F.delay.show?(K=setTimeout(function(){"in"===L&&E.show()},F.delay.show),void 0):E.show()},E.show=function(){if(F.bsEnabled&&!E.$isShown){H.$emit(F.prefixEvent+".show.before",E);var a,b;F.container?(a=O,b=O[0].lastChild?angular.element(O[0].lastChild):null):(a=null,b=e),N&&D(),P=E.$scope.$new(),N=E.$element=M.link(P,function(){}),N.css({top:"-9999px",left:"-9999px",right:"auto",display:"block",visibility:"hidden"}),F.animation&&N.addClass(F.animation),F.type&&N.addClass(F.prefixClass+"-"+F.type),F.customClass&&N.addClass(F.customClass),b?b.after(N):a.prepend(N),E.$isShown=H.$isShown=!0,n(H),E.$applyPlacement(),angular.version.minor<=2?h.enter(N,a,b,g):h.enter(N,a,b).then(g),n(H),k(function(){N&&N.css({visibility:"visible"})}),F.keyboard&&("focus"!==F.trigger&&E.focus(),t()),F.autoClose&&v()}},E.leave=function(){return clearTimeout(K),L="out",F.delay&&F.delay.hide?(K=setTimeout(function(){"out"===L&&E.hide()},F.delay.hide),void 0):E.hide()};var Q,R;E.hide=function(a){E.$isShown&&(H.$emit(F.prefixEvent+".hide.before",E),Q=a,R=N,angular.version.minor<=2?h.leave(N,m):h.leave(N).then(m),E.$isShown=H.$isShown=!1,n(H),F.keyboard&&null!==N&&u(),F.autoClose&&null!==N&&w())},E.toggle=function(){E.$isShown?E.leave():E.enter()},E.focus=function(){N[0].focus()},E.setEnabled=function(a){F.bsEnabled=a},E.setViewport=function(a){F.viewport=a},E.$applyPlacement=function(){if(N){var b=F.placement,c=/\s?auto?\s?/i,d=c.test(b);d&&(b=b.replace(c,"")||a.placement),N.addClass(F.placement);var e=y(),f=N.prop("offsetWidth"),g=N.prop("offsetHeight");if(E.$viewport=F.viewport&&o(F.viewport.selector||F.viewport),d){var h=b,i=y(E.$viewport);h.indexOf("bottom")>=0&&e.bottom+g>i.bottom?b=h.replace("bottom","top"):h.indexOf("top")>=0&&e.top-g<i.top&&(b=h.replace("top","bottom")),("right"===h||"bottom-left"===h||"top-left"===h)&&e.right+f>i.width?b="right"===h?"left":b.replace("left","right"):("left"===h||"bottom-right"===h||"top-right"===h)&&e.left-f<i.left&&(b="left"===h?"right":b.replace("right","left")),N.removeClass(h).addClass(b)}var j=z(b,e,f,g);A(j,b)}},E.$onKeyUp=function(a){27===a.which&&E.$isShown&&(E.hide(),a.stopPropagation())},E.$onFocusKeyUp=function(a){27===a.which&&(e[0].blur(),a.stopPropagation())},E.$onFocusElementMouseDown=function(a){a.preventDefault(),a.stopPropagation(),E.$isShown?e[0].blur():e[0].focus()};var S=!1;return E}function n(a){a.$$phase||a.$root&&a.$root.$$phase||a.$digest()}function o(a,b){return angular.element((b||document).querySelectorAll(a))}String.prototype.trim;var p="createTouch"in b.document,q=angular.element(b.document);return m};c.$inject=["$window","$rootScope","$bsCompiler","$q","$templateCache","$http","$animate","$sce","dimensions","$$rAF","$timeout"],this.$get=c}).directive("bsTooltip",["$window","$location","$sce","$tooltip","$$rAF",function(a,b,c,d,e){return{restrict:"EAC",scope:!0,link:function(a,b,f){var g={scope:a};angular.forEach(["template","templateUrl","controller","controllerAs","contentTemplate","placement","container","delay","trigger","html","animation","backdropAnimation","type","customClass","id"],function(a){angular.isDefined(f[a])&&(g[a]=f[a])});var h=/^(false|0|)$/i;angular.forEach(["html","container"],function(a){angular.isDefined(f[a])&&h.test(f[a])&&(g[a]=!1)});var i=b.attr("data-target");angular.isDefined(i)&&(g.target=h.test(i)?!1:i),a.hasOwnProperty("title")||(a.title=""),f.$observe("title",function(b){if(angular.isDefined(b)||!a.hasOwnProperty("title")){var d=a.title;a.title=c.trustAsHtml(b),angular.isDefined(d)&&e(function(){j&&j.$applyPlacement()})}}),f.bsTooltip&&a.$watch(f.bsTooltip,function(b,c){angular.isObject(b)?angular.extend(a,b):a.title=b,angular.isDefined(c)&&e(function(){j&&j.$applyPlacement()})},!0),f.bsShow&&a.$watch(f.bsShow,function(a){j&&angular.isDefined(a)&&(angular.isString(a)&&(a=!!a.match(/true|,?(tooltip),?/i)),a===!0?j.show():j.hide())}),f.bsEnabled&&a.$watch(f.bsEnabled,function(a){j&&angular.isDefined(a)&&(angular.isString(a)&&(a=!!a.match(/true|1|,?(tooltip),?/i)),a===!1?j.setEnabled(!1):j.setEnabled(!0))}),f.viewport&&a.$watch(f.viewport,function(a){j&&angular.isDefined(a)&&j.setViewport(a)});var j=d(b,g);a.$on("$destroy",function(){j&&j.destroy(),g=null,j=null})}}}])}),define("fare/oc/1.0.0/lib/tooltip/tooltip.tpl.html",[],'<div class="tooltip in" ng-show="title">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="title"></div>\n</div>\n'),define("fare/oc/1.0.0/lib/valid/index",["fare/oc/1.0.0/lib/valid/config/index","fare/oc/1.0.0/lib/valid/config/ngModelDecorator","fare/oc/1.0.0/lib/valid/jcs-auto-validate","fare/oc/1.0.0/lib/valid/config/ngSubmitDecorator","fare/oc/1.0.0/lib/valid/directives/index","fare/oc/1.0.0/lib/valid/directives/autoValidateFormOptions","fare/oc/1.0.0/lib/valid/directives/formReset","fare/oc/1.0.0/lib/valid/directives/registerCustomFormControl","fare/oc/1.0.0/lib/valid/providers/validator","fare/oc/1.0.0/lib/valid/services/index","fare/oc/1.0.0/lib/valid/services/bootstrap3ElementModifier_modify","fare/oc/1.0.0/lib/valid/services/debounce","fare/oc/1.0.0/lib/valid/services/defaultErrorMessageResolver","fare/oc/1.0.0/lib/valid/services/foundation5ElementModifier","fare/oc/1.0.0/lib/valid/services/validationManager"],function(a){function b(a,b,c,d){a.setErrorMessageResolver(b.resolve),a.registerDomModifier(c.key,c),a.registerDomModifier(d.key,d),a.setDefaultElementModifier(c.key)}a("fare/oc/1.0.0/lib/valid/config/index"),a("fare/oc/1.0.0/lib/valid/directives/index"),a("fare/oc/1.0.0/lib/valid/providers/validator"),a("fare/oc/1.0.0/lib/valid/services/index"),b.$inject=["validator","defaultErrorMessageResolver","bootstrap3ElementModifier","foundation5ElementModifier"],angular.module("jcs-autoValidate").run(b)}),define("fare/oc/1.0.0/lib/valid/config/index",["fare/oc/1.0.0/lib/valid/config/ngModelDecorator","fare/oc/1.0.0/lib/valid/jcs-auto-validate","fare/oc/1.0.0/lib/valid/config/ngSubmitDecorator"],function(a){a("fare/oc/1.0.0/lib/valid/config/ngModelDecorator"),a("fare/oc/1.0.0/lib/valid/config/ngSubmitDecorator")}),define("fare/oc/1.0.0/lib/valid/config/ngModelDecorator",["fare/oc/1.0.0/lib/valid/jcs-auto-validate"],function(a){var b=a("fare/oc/1.0.0/lib/valid/jcs-auto-validate");b.config(["$provide",function(a){a.decorator("ngModelDirective",["$timeout","$delegate","validationManager","jcs-debounce",function(a,b,c,d){var e=b[0],f=e.link||e.compile;return e.compile=function(a){var b=angular.version.major>=1&&angular.version.minor>=3,e=f;return b&&angular.isFunction(f)&&(e=f(a)),{pre:function(a,f,g,h){var i=h[0],j=h[1],k=void 0===g.ngModelOptions?void 0:a.$eval(g.ngModelOptions),l=i.$setValidity,m=i.$setPristine,n=d.debounce(function(){var a=void 0!==j&&null!==j?j.autoValidateFormOptions:void 0;c.validateElement(i,f,a)},100);return void 0===g.formnovalidate&&void 0!==j&&null!==j&&j.autoValidateFormOptions&&j.autoValidateFormOptions.disabled===!1&&(b&&void 0!==k&&void 0!==k.updateOn&&""!==k.updateOn?(f.on(k.updateOn,function(){n()}),a.$on("$destroy",function(){f.off(k.updateOn)})):i.$setValidity=function(a,b){l.call(i,a,b),n()},i.$setPristine=function(){m.call(i),c.resetElement(f)},i.autoValidated=!0),i.setExternalValidation=function(a,b,d){if(d){var e=i.$error||i.$errors;e[a]=!1}i.externalErrors=i.externalErrors||{},i.externalErrors[a]=!1,c.setElementValidationError(f,a,b)},i.removeExternalValidation=function(a,b){if(b){var d=i.$error||i.$errors;delete d[a]}i.externalErrors&&delete i.externalErrors[a],c.resetElement(f)},i.removeAllExternalValidation=function(){if(i.externalErrors){var a=i.$error||i.$errors;angular.forEach(i.externalErrors,function(b,c){delete a[c]}),i.externalErrors={},c.resetElement(f)}},j&&(j.setExternalValidation=function(a,b,c,d){var e=!1;return j[a]&&(j[a].setExternalValidation(b,c,d),e=!0),e},j.removeExternalValidation=function(a,b,c,d){var e=!1;return j[a]&&(j[a].removeExternalValidation(b,d),e=!0),e}),e.pre?e.pre.apply(this,arguments):this},post:function(){return e.post?e.post.apply(this,arguments):e.apply(this,arguments)}}},b}])}])}),define("fare/oc/1.0.0/lib/valid/jcs-auto-validate",[],function(){var a=angular.module("jcs-autoValidate",[]);return a}),define("fare/oc/1.0.0/lib/valid/config/ngSubmitDecorator",["fare/oc/1.0.0/lib/valid/jcs-auto-validate"],function(a){function b(a,b,c){return a[0].compile=function(a,d){var e=b(d.ngSubmit),f="true"===d.ngSubmitForce;return function(a,b){function d(d){a.$apply(function(){void 0!==i&&null!==i&&i.autoValidateFormOptions&&i.autoValidateFormOptions.disabled===!0?e(a,{$event:d}):(void 0===i.$setSubmitted&&(i.$submitted=!0),(c.validateForm(b)||f===!0)&&e(a,{$event:d}))})}function g(){b[0].reset?b[0].reset():c.resetForm(b)}var h,i=b.controller("form");i&&i.autoValidateFormOptions&&(i.autoValidateFormOptions.resetForm=g,void 0!==i.$name&&""!==i.$name&&(h=a.$on("form:"+i.$name+":reset",g))),b.on("submit",d),a.$on("$destroy",function(){b.off("submit",d),h&&h()})}},a}function c(a){a.decorator("ngSubmitDirective",b)}var d=a("fare/oc/1.0.0/lib/valid/jcs-auto-validate");b.$inject=["$delegate","$parse","validationManager"],c.$inject=["$provide"],d.config(c)}),define("fare/oc/1.0.0/lib/valid/directives/index",["fare/oc/1.0.0/lib/valid/directives/autoValidateFormOptions","fare/oc/1.0.0/lib/valid/jcs-auto-validate","fare/oc/1.0.0/lib/valid/directives/formReset","fare/oc/1.0.0/lib/valid/directives/registerCustomFormControl"],function(a){a("fare/oc/1.0.0/lib/valid/directives/autoValidateFormOptions"),a("fare/oc/1.0.0/lib/valid/directives/formReset"),a("fare/oc/1.0.0/lib/valid/directives/registerCustomFormControl")}),define("fare/oc/1.0.0/lib/valid/directives/autoValidateFormOptions",["fare/oc/1.0.0/lib/valid/jcs-auto-validate"],function(a){function b(a,b){return void 0!==a&&null!==a||void 0===b?"false"!==a:b}function c(a,c,d){var e=a.autoValidateFormOptions=a.autoValidateFormOptions||angular.copy(c.defaultFormValidationOptions);e.formController=a,e.forceValidation=!1,e.disabled=!c.isEnabled()||b(d.disableDynamicValidation,e.disabled),e.validateNonVisibleControls=b(d.validateNonVisibleControls,e.validateNonVisibleControls),e.validateOnFormSubmit=b(d.validateOnFormSubmit,e.validateOnFormSubmit),e.removeExternalValidationErrorsOnSubmit=void 0===d.removeExternalValidationErrorsOnSubmit?e.removeExternalValidationErrorsOnSubmit:b(d.removeExternalValidationErrorsOnSubmit,e.removeExternalValidationErrorsOnSubmit),c.isEnabled()===!1&&"false"===d.disableDynamicValidation&&(e.disabled=!1)}var d=a("fare/oc/1.0.0/lib/valid/jcs-auto-validate");d.directive("form",["validator",function(a){return{restrict:"E",require:"form",priority:9999,compile:function(){return{pre:function(b,d,e,f){c(f,a,e)}}}}}]),d.directive("ngForm",["validator",function(a){return{restrict:"EA",require:"form",priority:9999,compile:function(){return{pre:function(b,d,e,f){c(f,a,e)}}}}}])}),define("fare/oc/1.0.0/lib/valid/directives/formReset",["fare/oc/1.0.0/lib/valid/jcs-auto-validate"],function(a){function b(a){return{restrict:"E",link:function(b,c){function d(){a.resetForm(c),e.$setPristine&&e.$setPristine(),e.$setUntouched&&e.$setUntouched()}var e=c.controller("form");void 0!==e&&e.autoValidateFormOptions&&e.autoValidateFormOptions.disabled===!1&&(c.on("reset",d),b.$on("$destroy",function(){c.off("reset",d)}))}}}var c=a("fare/oc/1.0.0/lib/valid/jcs-auto-validate");b.$inject=["validationManager"],c.directive("form",b)}),define("fare/oc/1.0.0/lib/valid/directives/registerCustomFormControl",["fare/oc/1.0.0/lib/valid/jcs-auto-validate"],function(a){function b(){var a=function(a){for(var b=a,c=0;50>=c&&(void 0===b||"form"!==b.nodeName.toLowerCase());c+=1)void 0!==b&&(b=angular.element(b).parent()[0]);return b};return{restrict:"A",link:function(b,c){var d=a(c.parent()[0]);d&&(d.customHTMLFormControlsCollection=d.customHTMLFormControlsCollection||[],d.customHTMLFormControlsCollection.push(c[0]))}}}var c=a("fare/oc/1.0.0/lib/valid/jcs-auto-validate");c.directive("registerCustomFormControl",b)}),define("fare/oc/1.0.0/lib/valid/providers/validator",["fare/oc/1.0.0/lib/valid/jcs-auto-validate"],function(a){function b(){var a={},b=!0,c=!0,d=!0,e=function(a){var b;return a&&0!==a.length?(b=a.toLowerCase(),a=!("f"===b||"0"===b||"false"===b)):a=!1,a},f=function(a,b){var c;return void 0!==a&&(c=a.attr(b)||a.attr("data-"+b)),c},g=function(a,b){var c;return void 0!==a&&(c=void 0!==a.attr(b)||void 0!==a.attr("data-"+b)),c},h=function(a,b){return e(f(a,b))},i=function(a){return b&&!h(a,"disable-valid-styling")},j=function(a){return c&&!h(a,"disable-invalid-styling")};this.enable=function(a){d=a},this.isEnabled=function(){return d},this.setDefaultElementModifier=function(b){if(void 0===a[b])throw new Error("Element modifier not registered: "+b);this.defaultElementModifier=b},this.registerDomModifier=function(b,c){a[b]=c},this.setErrorMessageResolver=function(a){this.errorMessageResolver=a},this.getErrorMessage=function(a,b){var c;if(void 0===this.errorMessageResolver)throw new Error("Please set an error message resolver via the setErrorMessageResolver function before attempting to resolve an error message.");return g(b,"disable-validation-message")?(c=angular.injector(["ng"]).get("$q").defer(),c.resolve(""),c.promise):this.errorMessageResolver(a,b)},this.setValidElementStyling=function(a){b=a},this.setInvalidElementStyling=function(a){c=a},this.getDomModifier=function(b){var c=(void 0!==b?b.attr("element-modifier"):this.defaultElementModifier)||(void 0!==b?b.attr("data-element-modifier"):this.defaultElementModifier)||this.defaultElementModifier;if(void 0===c)throw new Error("Please set a default dom modifier via the setDefaultElementModifier method on the validator class.");return a[c]},this.makeValid=function(a){i(a)?this.getDomModifier(a).makeValid(a):this.makeDefault(a)},this.makeInvalid=function(a,b){j(a)?this.getDomModifier(a).makeInvalid(a,b):this.makeDefault(a)},this.makeDefault=function(a){var b=this.getDomModifier(a);b.makeDefault&&b.makeDefault(a)},this.defaultFormValidationOptions={forceValidation:!1,disabled:!1,validateNonVisibleControls:!1,removeExternalValidationErrorsOnSubmit:!0,validateOnFormSubmit:!1},this.$get=[function(){return this}]}var c=a("fare/oc/1.0.0/lib/valid/jcs-auto-validate");c.provider("validator",b)}),define("fare/oc/1.0.0/lib/valid/services/index",["fare/oc/1.0.0/lib/valid/services/bootstrap3ElementModifier_modify","fare/oc/1.0.0/lib/valid/jcs-auto-validate","fare/oc/1.0.0/lib/valid/services/debounce","fare/oc/1.0.0/lib/valid/services/defaultErrorMessageResolver","fare/oc/1.0.0/lib/valid/services/foundation5ElementModifier","fare/oc/1.0.0/lib/valid/services/validationManager"],function(a){a("fare/oc/1.0.0/lib/valid/services/bootstrap3ElementModifier_modify"),a("fare/oc/1.0.0/lib/valid/services/debounce"),a("fare/oc/1.0.0/lib/valid/services/defaultErrorMessageResolver"),a("fare/oc/1.0.0/lib/valid/services/foundation5ElementModifier"),a("fare/oc/1.0.0/lib/valid/services/validationManager")}),define("fare/oc/1.0.0/lib/valid/services/bootstrap3ElementModifier_modify",["fare/oc/1.0.0/lib/valid/jcs-auto-validate"],function(a){function b(a){var b=function(a){angular.forEach(a.find("span"),function(a){a=angular.element(a),(a.hasClass("form-control-feedback")||a.hasClass("control-feedback"))&&a.remove()}),angular.forEach(a.find("div"),function(a){a=angular.element(a),a.hasClass("has-error error-msg")&&a.remove()}),a.removeClass("has-success has-error has-feedback")},c=function(a,b){for(var c,d=a,e=0;10>=e;e+=1){if(void 0!==d&&d.hasClass(b)){c=d;break}void 0!==d&&(d=d.parent())}return c},d=function(a,b){for(var c,e=0;e<a.children.length&&(c=a.children[e],void 0===c||!angular.element(c).hasClass(b))&&!(void 0!==c.children&&(c=d(c,b),c.length>0));e+=1);return angular.element(c)},e=function(a){return c(a,"form-group")},f=function(a){return d(a,"input-group")},g=function(a,b){a[0].parentNode.insertBefore(b[0],a[0].nextSibling)},h=!1,i=function(a){h=a},j=function(c){var d,i=k(c),j=e(c);if(j){if(b(j),d=f(j[0]),!i&&(j.addClass("has-success "+(d.length>0?"":"has-feedback")),h)){var l='<span class="glyphicon glyphicon-ok form-control-feedback"></span>';d.length>0&&(l=l.replace("form-",""),l='<span class="input-group-addon control-feedback">'+l+"</span"),angular.element(c),g(c,angular.element(l))}}else a.error("Angular-auto-validate: invalid bs3 form structure elements must be wrapped by a form-group class")},k=function(a){var b=!1;if(a&&a.length>0){var c=a[0],d=c.type;("radio"==d||"checkbox"==d||-1!=d.indexOf("select"))&&(b=!0)}return b};return makeInvalid=function(c,d){var i,j=k(c),l=e(c),m=angular.element('<div class="col-sm-3 help-block has-error error-msg"><small>'+d+"</small></div>");if(l){if(b(l),i=f(l[0]),l.append(m),l.addClass("has-error "+(i.length>0?"":"has-feedback")),!j&&h){var n='<span class="glyphicon glyphicon-remove form-control-feedback"></span>';i.length>0&&(n=n.replace("form-",""),n='<span class="input-group-addon control-feedback">'+n+"</span"),g(getCorrectElementToPlaceErrorElementAfter(c),angular.element(n))}}else a.error("Angular-auto-validate: invalid bs3 form structure elements must be wrapped by a form-group class")},getCorrectElementToPlaceErrorElementAfter=function(a){var b=a,c=a[0].type?a[0].type.toLowerCase():"";return"checkbox"!==c&&"radio"!==c||"label"!==a.parent()[0].nodeName.toLowerCase()||(b=a.parent()),b},makeDefault=function(c){var d=e(c);d?b(d):a.error("Angular-auto-validate: invalid bs3 form structure elements must be wrapped by a form-group class")},{makeValid:j,makeInvalid:makeInvalid,makeDefault:makeDefault,enableValidationStateIcons:i,key:"bs3"}}var c=a("fare/oc/1.0.0/lib/valid/jcs-auto-validate");b.$inject=["$log"],c.factory("bootstrap3ElementModifier",b)}),define("fare/oc/1.0.0/lib/valid/services/debounce",["fare/oc/1.0.0/lib/valid/jcs-auto-validate"],function(a){function b(a){var b=function(b,c,d){c=angular.isUndefined(c)?0:c,d=angular.isUndefined(d)?!0:d;var e=0;return function(){var f=this,g=arguments;e+=1;var h=function(a){return function(){return a===e?b.apply(f,g):void 0}}(e);return a(h,c,d)}};return{debounce:b}}var c=a("fare/oc/1.0.0/lib/valid/jcs-auto-validate");b.$inject=["$timeout"],c.factory("jcs-debounce",b)}),define("fare/oc/1.0.0/lib/valid/services/defaultErrorMessageResolver",["fare/oc/1.0.0/lib/valid/jcs-auto-validate"],function(a){function b(a,b){var c,d="en-gb",e="js/angular-auto-validate/dist/lang",f=function(a){return c=b.get("{0}/jcs-auto-validate_{1}.json".format(e,a.toLowerCase()))},g=function(a){e=a},h=function(b,e){var g=a.defer();return e=e||f,d=b.toLowerCase(),void 0===angular.autoValidate.errorMessages[d]?(c=e(b),c.then(function(a){c=void 0,angular.autoValidate.errorMessages[d]=a.data,g.resolve(angular.autoValidate.errorMessages[d])},function(a){angular.autoValidate.errorMessages[d]={defaultMsg:"Loading culture failed!"},c=null,g.reject(a)})):g.resolve(angular.autoValidate.errorMessages[d]),g.promise},i=function(b){var e=a.defer();return b=void 0===b?d:b.toLowerCase(),void 0!==c?c.then(function(){e.resolve(angular.autoValidate.errorMessages[b])},function(a){e.reject(a)}):e.resolve(angular.autoValidate.errorMessages[b]),e.promise},j=function(a,b){var c;return b&&(a+="-err-type",c=b.attr("ng-"+a),void 0===c&&(c=b.attr("data-ng-"+a)||b.attr(a)),c&&(c=c.replace(/[\W]/g,""))),c},k=function(b,e){var f,g,h,i=a.defer(),l=[];if(void 0!==c)c.then(function(){k(b,e).then(function(a){i.resolve(a)})});else{if(f=angular.autoValidate.errorMessages[d][b],h=j(b,e),h&&(f=angular.autoValidate.errorMessages[d][h]),void 0===f&&(f=angular.autoValidate.errorMessages[d].defaultMsg.format(b)),e&&e.attr)try{g=e.attr("ng-"+b),void 0===g&&(g=e.attr("data-ng-"+b)||e.attr(b)),l.push(g||""),f=f.format(l)}catch(m){}i.resolve(f)}return i.promise};return{setI18nFileRootPath:g,setCulture:h,getErrorMessages:i,resolve:k}}var c=a("fare/oc/1.0.0/lib/valid/jcs-auto-validate");"format"in String.prototype||(String.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,c){return void 0!==typeof a[c]?a[c]:b})}),angular.autoValidate=angular.autoValidate||{errorMessages:{}},angular.autoValidate.errorMessages["en-us"]=angular.autoValidate.errorMessages["en-gb"]={defaultMsg:"请为 {0} 增加错误信息",email:"请输入合法的电子邮箱地址",minlength:"请输入至少 {0} 字符",maxlength:"最多只允许输入 {0} 字符",min:"请输入 {0} 允许的最小数值",max:"请输入 {0} 允许的最大数值",required:"这个字段是必须的",date:"请输入合法日期",pattern:"请确认输入信息符合规则 {0}",number:"请输入一个合法数字",url:"请输入正确的网址",alphanumeric:"请输入字母或数字",integer:"请输入正整数"},b.$inject=["$q","$http"],c.factory("defaultErrorMessageResolver",b)}),define("fare/oc/1.0.0/lib/valid/services/foundation5ElementModifier",["fare/oc/1.0.0/lib/valid/jcs-auto-validate"],function(a){function b(){var a=function(a,b){angular.forEach(a.find("small"),function(a){angular.element(a).hasClass("error")&&angular.element(a).remove()}),b.removeClass("error")},b=function(a){for(var b=a,c=0;3>=c&&(void 0===b||!b.hasClass("columns")&&!b.hasClass("column"));c+=1)void 0!==b&&(b=b.parent());return b},c=function(c){var d=b(c);a(d&&d.length>0?d:c,c)},d=function(c,d){var e,f=b(c);a(f||c,c),c.addClass("error"),f&&(e=angular.element('<small class="error">'+d+"</small>"),f.append(e))},e=function(a){c(a)};return{makeValid:c,makeInvalid:d,makeDefault:e,key:"foundation5"}}var c=a("fare/oc/1.0.0/lib/valid/jcs-auto-validate");c.factory("foundation5ElementModifier",b)}),define("fare/oc/1.0.0/lib/valid/services/validationManager",["fare/oc/1.0.0/lib/valid/jcs-auto-validate"],function(a){function b(){var a=function(a){return a[0].offsetWidth>0&&a[0].offsetHeight>0};return{isElementVisible:a}}function c(a,b){var c=["input","textarea","select","form"],d=function(a){return b.isElementVisible(a)},e=function(b){var c,d=angular.element(b).controller("form");return c=void 0!==d&&null!==d?d.autoValidateFormOptions:a.defaultFormValidationOptions},f=function(a,b,e){var f,g,h,i=a&&a.length>0,j=i&&"#comment"===a[0].nodeName.toLowerCase();return i&&j===!1&&(f=d(a)||b.validateNonVisibleControls,g=c.indexOf(a[0].nodeName.toLowerCase())>-1||a[0].hasAttribute("register-custom-form-control"),h=b.validateOnFormSubmit===!1||b.validateOnFormSubmit===!0&&e===!0),i&&!j&&f&&g&&h},g=function(b,c,d){var g,h=!0,i=d||e(c),j=b.$pristine===!1||i.forceValidation,k=function(a){var b,c=!0;return angular.forEach(a,function(a,d){c&&a&&(c=!1,b=d)}),b};return i.disabled===!1&&(i.forceValidation||f(c,i,i.formController.$submitted)&&b&&j)&&(h=!b.$invalid,i.removeExternalValidationErrorsOnSubmit&&b.removeAllExternalValidation&&b.removeAllExternalValidation(),h?a.makeValid(c):(g=k(b.$errors||b.$error),void 0===g?h=!0:a.getErrorMessage(g,c).then(function(b){a.makeInvalid(c,b)}))),h},h=function(b){a.makeDefault(b)},i=function(a){angular.forEach(a[0].all||a[0].elements||a[0],function(a){var b,c=angular.element(a);b=c.controller("ngModel"),void 0!==b&&("form"===c[0].nodeName.toLowerCase()?i(c):b.$setPristine())})},j=function(a){var b,c=!0,d=a?angular.element(a).controller("form"):void 0,h=function(a,b,h){var i,k,l,m;if(a=angular.element(a),i=a.controller("ngModel"),void 0!==i&&(b||f(a,h,d.$submitted)))if("form"===a[0].nodeName.toLowerCase())j(a);else{l=e(a),m=l.forceValidation,l.forceValidation=b;try{k=g(i,a,l),c=c&&k}finally{l.forceValidation=m}}};return void 0===a||void 0!==d&&d.autoValidateFormOptions.disabled?void 0!==a:(b=angular.copy(d.autoValidateFormOptions),b.forceValidation=!0,angular.forEach(a[0].all||a[0].elements||a[0],function(a){h(a,!0,b)}),a[0].customHTMLFormControlsCollection&&angular.forEach(a[0].customHTMLFormControlsCollection,function(a){h(a,!0,b)}),c)},k=function(b,c,d){c?a.getErrorMessage(c,b).then(function(c){a.makeInvalid(b,c)}):a.makeInvalid(b,d)};return{setElementValidationError:k,validateElement:g,validateForm:j,resetElement:h,resetForm:i}}var d=a("fare/oc/1.0.0/lib/valid/jcs-auto-validate");c.$inject=["validator","jcs-elementUtils"],d.factory("jcs-elementUtils",b),d.factory("validationManager",c)});
